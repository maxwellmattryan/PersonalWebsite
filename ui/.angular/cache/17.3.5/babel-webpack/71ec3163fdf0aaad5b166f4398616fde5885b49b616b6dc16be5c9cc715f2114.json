{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services\";\nimport * as i2 from \"@ui/core/services\";\nconst _c0 = a0 => ({\n  \"btn--hide\": a0\n});\nconst _c1 = a0 => ({\n  \"posts__post--rjust\": a0\n});\nconst _c2 = a0 => [a0];\nconst _c3 = () => [\"/blog\"];\nfunction BlogPostCollectionComponent_div_0_div_5_h3_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(post_r2.title);\n  }\n}\nfunction BlogPostCollectionComponent_div_0_div_5_h3_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(post_r2.status.status + \": \" + post_r2.title);\n  }\n}\nfunction BlogPostCollectionComponent_div_0_div_5_div_6_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 18);\n    i0.ɵɵlistener(\"click\", function BlogPostCollectionComponent_div_0_div_5_div_6_a_1_Template_a_click_0_listener() {\n      const topic_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r4.blogTopicService.setActiveTopic(topic_r4));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const topic_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c3));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", topic_r4.name, \" \");\n  }\n}\nfunction BlogPostCollectionComponent_div_0_div_5_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, BlogPostCollectionComponent_div_0_div_5_div_6_a_1_Template, 2, 3, \"a\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", post_r2.topics);\n  }\n}\nfunction BlogPostCollectionComponent_div_0_div_5_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", post_r2.preview.split(\" \").slice(0, 44).join(\" \"), \" ... \");\n  }\n}\nfunction BlogPostCollectionComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"a\", 9);\n    i0.ɵɵtemplate(2, BlogPostCollectionComponent_div_0_div_5_h3_2_Template, 2, 1, \"h3\", 10)(3, BlogPostCollectionComponent_div_0_div_5_h3_3_Template, 2, 1, \"h3\", 10);\n    i0.ɵɵelementStart(4, \"h4\", 11);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(6, BlogPostCollectionComponent_div_0_div_5_div_6_Template, 2, 1, \"div\", 12)(7, BlogPostCollectionComponent_div_0_div_5_p_7_Template, 2, 1, \"p\", 13);\n    i0.ɵɵelement(8, \"p\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r2 = ctx.$implicit;\n    const idx_r6 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c1, idx_r6 % 2 !== 0));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c2, ctx_r4.getPostUrl(post_r2.id, post_r2.title)));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", post_r2.status.status === \"PUBLISHED\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", post_r2.status.status !== \"PUBLISHED\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(post_r2.subtitle);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.showTopics);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.showPreview);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"innerHTML\", ctx_r4.seoService.getFormattedDate(post_r2.updated_at), i0.ɵɵsanitizeHtml);\n  }\n}\nfunction BlogPostCollectionComponent_div_0_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 20);\n    i0.ɵɵtext(1, \" See Blog \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BlogPostCollectionComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h2\", 2);\n    i0.ɵɵtext(2, \"Posts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtemplate(5, BlogPostCollectionComponent_div_0_div_5_Template, 9, 12, \"div\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function BlogPostCollectionComponent_div_0_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.displayMorePosts());\n    });\n    i0.ɵɵtext(7, \" Load More \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, BlogPostCollectionComponent_div_0_a_8_Template, 2, 0, \"a\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.getPosts())(\"ngForTrackBy\", ctx_r4.trackingService.objectById);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r4.nPostsToDisplay >= ctx_r4.posts.length));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.showReadmore);\n  }\n}\nexport let BlogPostCollectionComponent = /*#__PURE__*/(() => {\n  class BlogPostCollectionComponent {\n    constructor(blogComparisonService, blogTopicService, seoService, trackingService) {\n      this.blogComparisonService = blogComparisonService;\n      this.blogTopicService = blogTopicService;\n      this.seoService = seoService;\n      this.trackingService = trackingService;\n      // CAUTION: This is necessary because the routing changes when this component is used outside of the blog module\n      this.baseRoute = 'blog/posts';\n      this.nPostsToDisplay = 5;\n    }\n    ngOnInit() {\n      this.posts.forEach(p => {\n        p.topics.sort(this.blogComparisonService.topics);\n      });\n    }\n    getPosts() {\n      return this.posts.slice(0, this.nPostsToDisplay);\n    }\n    displayMorePosts() {\n      this.nPostsToDisplay += 5;\n      if (this.nPostsToDisplay >= this.posts.length) {\n        this.nPostsToDisplay = this.posts.length;\n      }\n    }\n    getPostUrl(id, name) {\n      return `${this.baseRoute}/${this.seoService.getCanonicalUrl(id, name)}`;\n    }\n    static #_ = this.ɵfac = function BlogPostCollectionComponent_Factory(t) {\n      return new (t || BlogPostCollectionComponent)(i0.ɵɵdirectiveInject(i1.BlogComparisonService), i0.ɵɵdirectiveInject(i1.BlogTopicService), i0.ɵɵdirectiveInject(i2.SeoService), i0.ɵɵdirectiveInject(i2.TrackingService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: BlogPostCollectionComponent,\n      selectors: [[\"ui-blog-post-collection\"]],\n      inputs: {\n        posts: \"posts\",\n        showPreview: \"showPreview\",\n        showTopics: \"showTopics\",\n        showReadmore: \"showReadmore\",\n        baseRoute: \"baseRoute\"\n      },\n      decls: 1,\n      vars: 1,\n      consts: [[\"class\", \"section posts\", 4, \"ngIf\"], [1, \"section\", \"posts\"], [1, \"posts__header\"], [1, \"line-divider\"], [1, \"container\", \"posts__post-container\"], [\"class\", \"posts__post\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"aria-label\", \"Display more posts\", 1, \"btn\", \"posts__load-btn\", 3, \"click\", \"ngClass\"], [\"class\", \"btn posts__readmore-btn\", \"routerLink\", \"/blog\", 4, \"ngIf\"], [1, \"posts__post\", 3, \"ngClass\"], [1, \"posts__post-anchor-wrapper\", 3, \"routerLink\"], [\"class\", \"posts__post-title\", 4, \"ngIf\"], [1, \"posts__post-subtitle\"], [\"class\", \"posts__post-topic-list\", 4, \"ngIf\"], [\"class\", \"posts__post-preview\", 4, \"ngIf\"], [1, \"posts__post-date\", 3, \"innerHTML\"], [1, \"posts__post-title\"], [1, \"posts__post-topic-list\"], [\"class\", \"posts__post-topic-item\", 3, \"routerLink\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"posts__post-topic-item\", 3, \"click\", \"routerLink\"], [1, \"posts__post-preview\"], [\"routerLink\", \"/blog\", 1, \"btn\", \"posts__readmore-btn\"]],\n      template: function BlogPostCollectionComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, BlogPostCollectionComponent_div_0_Template, 9, 6, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.posts);\n        }\n      },\n      styles: [\".posts[_ngcontent-%COMP%]{min-height:calc(41vh + 1px)}.posts__post-container[_ngcontent-%COMP%]{margin-bottom:2rem}.posts__post-title[_ngcontent-%COMP%], .posts__post-subtitle[_ngcontent-%COMP%], .posts__post-date[_ngcontent-%COMP%], .posts__post-preview[_ngcontent-%COMP%], .posts__post-topic-list[_ngcontent-%COMP%]{padding:1rem 2rem}.posts__post[_ngcontent-%COMP%]{background-color:#acb5c7;border:1px solid black}.posts__post-title[_ngcontent-%COMP%]{padding-top:2rem}.posts__post-subtitle[_ngcontent-%COMP%]{color:#f7faff;font-style:italic;font-weight:500;padding-top:.5rem}.posts__post-date[_ngcontent-%COMP%]{color:#333944;font-style:italic;padding-bottom:2rem}.posts__post-topic-list[_ngcontent-%COMP%]{color:#4b6185;display:grid;grid-gap:.5rem}.posts__post-topic-item[_ngcontent-%COMP%]{color:#4b6185}.posts__post-preview[_ngcontent-%COMP%]{color:#333944}.posts__load-btn[_ngcontent-%COMP%], .posts__readmore-btn[_ngcontent-%COMP%]{font-size:100%;height:48px;max-width:316px;width:100%}.posts__readmore-btn[_ngcontent-%COMP%]{line-height:48px}@media only screen and (min-width: 768px){.posts__post-title[_ngcontent-%COMP%]:hover, .posts__post-topic-item[_ngcontent-%COMP%]:hover{text-decoration:underline}}\"],\n      changeDetection: 0\n    });\n  }\n  return BlogPostCollectionComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}