(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{EsSE:function(t,e,o){"use strict";o.d(e,"a",(function(){return c})),o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return i})),o.d(e,"d",(function(){return n}));class r{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this}}class i{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this}}class n{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this.profiles=t.profiles.map(t=>new c(Object.assign({},t)).deserialize(t)),this}}class c{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this.status=t.status.map(t=>new r(Object.assign({},t)).deserialize(t)),this.technologies=t.technologies.map(t=>new i(Object.assign({},t)).deserialize(t)),this.projects=t.projects.map(t=>new n(Object.assign({},t)).deserialize(t)),this}}},NEos:function(t,e,o){"use strict";o.d(e,"a",(function(){return u}));var r=o("fXoL"),i=o("Rtfg"),n=o("dJ3e"),c=o("ofXK"),a=o("tyNb"),s=o("lR5k"),l=o("O09W");const b=function(t){return{"projects__project--rjust":t}},p=function(t){return{"background-image":t}},d=function(t){return[t]};function f(t,e){if(1&t&&(r.Ob(0,"div",5),r.Kb(1,"div",6),r.Ob(2,"a",7),r.Ob(3,"h3",8),r.tc(4),r.Nb(),r.Nb(),r.Ob(5,"h4",9),r.tc(6),r.Nb(),r.Kb(7,"markdown",10),r.Ob(8,"a",11),r.Kb(9,"app-icon",12),r.Nb(),r.Nb()),2&t){const t=e.$implicit,o=e.index,i=r.Zb();r.cc("ngClass",r.ec(8,b,o%2==0)),r.zb(1),r.cc("ngStyle",r.ec(10,p,"url("+t.image_url.substring(0,t.image_url.length-4)+"png)")),r.zb(1),r.cc("routerLink",r.ec(12,d,i.getProjectUrl(t.id,t.name))),r.zb(2),r.uc(t.name),r.zb(2),r.uc(t.tagline),r.zb(1),r.cc("data",t.description.split(" ").slice(0,36).join(" ")),r.zb(1),r.cc("href",t.link_url,r.lc),r.zb(1),r.cc("name",t.link_name)}}let u=(()=>{class t{constructor(t,e,o){this.authService=t,this.seoService=e,this.trackingService=o}ngOnInit(){}getProjectUrl(t,e){return"portfolio/projects/"+this.seoService.getCanonicalUrl(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(i.c),r.Jb(n.d),r.Jb(n.e))},t.\u0275cmp=r.Db({type:t,selectors:[["app-portfolio-project-collection"]],inputs:{projects:"projects"},decls:6,vars:2,consts:[[1,"section","projects"],[1,"projects__header"],[1,"projects__line-divider","line-divider"],[1,"container","projects__project-container"],["class","projects__project",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"projects__project",3,"ngClass"],[1,"projects__project-background",3,"ngStyle"],[1,"projects__project-anchor-wrapper",3,"routerLink"],[1,"projects__project-name","projects__project-name--link"],[1,"projects__project-tagline"],[1,"projects__project-description",3,"data"],["aria-label","Link to project's external URL","target","_blank","rel","noopener noreferrer",1,"projects__project-link",3,"href"],[1,"projects__project-link-icon",3,"name"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h2",1),r.tc(2,"Projects"),r.Nb(),r.Kb(3,"div",2),r.Ob(4,"div",3),r.rc(5,f,10,14,"div",4),r.Nb(),r.Nb()),2&t&&(r.zb(5),r.cc("ngForOf",e.projects)("ngForTrackBy",e.trackingService.objectById))},directives:[c.i,c.h,c.k,a.c,s.a,l.a],styles:[".projects__project[_ngcontent-%COMP%]{background-color:#242830;border:1px solid #000;box-sizing:border-box;height:auto;position:relative}.projects__project-background[_ngcontent-%COMP%]{background-color:#333944;background-origin:content-box;background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%;opacity:.15;pointer-events:none;position:absolute;width:100%}.projects__project-description[_ngcontent-%COMP%], .projects__project-name[_ngcontent-%COMP%], .projects__project-tagline[_ngcontent-%COMP%], .projects__project[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     p{padding:1rem 2rem}.projects__project-name[_ngcontent-%COMP%]{color:#aec6f1;padding-top:2rem}.projects__project-tagline[_ngcontent-%COMP%]{color:#fcfdff}.projects__project-description[_ngcontent-%COMP%]{color:#acb5c7}.projects__project-link[_ngcontent-%COMP%]{display:block;padding:2rem;transition:transform .2s ease}.projects__project--rjust-description[_ngcontent-%COMP%], .projects__project--rjust-link[_ngcontent-%COMP%], .projects__project--rjust-name[_ngcontent-%COMP%], .projects__project--rjust-tagline[_ngcontent-%COMP%]{text-align:right}.projects__project--rjust-link[_ngcontent-%COMP%]{align-self:flex-end}.projects__project--rjust[_ngcontent-%COMP%]   .projects__project-description[_ngcontent-%COMP%], .projects__project--rjust[_ngcontent-%COMP%]   .projects__project-link[_ngcontent-%COMP%], .projects__project--rjust[_ngcontent-%COMP%]   .projects__project-name[_ngcontent-%COMP%], .projects__project--rjust[_ngcontent-%COMP%]   .projects__project-tagline[_ngcontent-%COMP%], .projects__project--rjust[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     p{text-align:right}@media only screen and (min-width:768px){.projects__project-link[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.projects__project-name--link[_ngcontent-%COMP%]:hover, markdown[_ngcontent-%COMP%]     p a:hover{text-decoration:underline}}"],changeDetection:0}),t})()},O09W:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o("fXoL"),i=o("ofXK");function n(t,e){1&t&&(r.Mb(0),r.Yb(),r.Ob(1,"svg",1),r.Ob(2,"title"),r.tc(3,"Google Drive"),r.Nb(),r.Kb(4,"path",2),r.Nb(),r.Lb())}function c(t,e){1&t&&(r.Mb(0),r.Yb(),r.Ob(1,"svg",3),r.Ob(2,"title"),r.tc(3,"Green Foot"),r.Nb(),r.Kb(4,"path",4),r.Kb(5,"path",5),r.Kb(6,"path",6),r.Kb(7,"path",7),r.Kb(8,"path",8),r.Kb(9,"path",9),r.Nb(),r.Lb())}function a(t,e){1&t&&(r.Mb(0),r.Yb(),r.Ob(1,"svg",10),r.Ob(2,"title"),r.tc(3,"GitHub"),r.Nb(),r.Kb(4,"path",11),r.Nb(),r.Lb())}function s(t,e){1&t&&(r.Mb(0),r.Yb(),r.Ob(1,"svg",12),r.Ob(2,"title"),r.tc(3,"Itch.io"),r.Nb(),r.Kb(4,"path",13),r.Nb(),r.Lb())}let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-icon"]],inputs:{name:"name"},decls:4,vars:4,consts:[[4,"ngIf"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 550.801 550.801",0,"xml","space","preserve",1,"svg-icon","drive-svg-icon",2,"enable-background","new 0 0 550.801 550.801"],["d","M538.051,339.15L362.1,33.15H188.7l0,0l175.951,306H538.051z M216.75,364.65l-86.7,153H464.1l86.701-153H216.75z\n                M165.75,71.4L0,364.65l86.7,153L255,224.4L165.75,71.4z"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 512 512",1,"svg-icon","foot-svg-icon"],["d","M158.31 194.212c-8.284-122.46 182.466-34.243 171.417 23.982-10.67 56.167-45.691 65.905-69.97 100.004 0 0-16.916 50.197-11.151 70.236 18.964 66.058-78.541 125.798-103.926 48.558 0 0-12.196-52.439 36.126-88.299 19.169-24.494-15.657-53.433-22.498-154.481z"],["d","M211.425 73.954c3.031 21.617-7.332 40.98-23.142 43.223-15.79 2.181-31.078-13.537-34.099-35.205-3.042-21.657 7.311-40.96 23.101-43.182 15.841-2.233 31.119 13.486 34.14 35.164z"],["d","M270.807 95.632c-2.755 13.742-13.752 23.081-24.586 20.941-10.864-2.181-17.398-15.022-14.663-28.784 2.734-13.763 13.752-23.102 24.596-20.941 10.844 2.212 17.387 15.073 14.654 28.785z"],["d","M315.024 120.873c-4.199 11.203-14.776 17.644-23.634 14.295-8.817-3.318-12.606-15.043-8.407-26.276 4.199-11.203 14.756-17.603 23.603-14.285 8.827 3.349 12.606 15.084 8.438 26.266z"],["d","M348.938 155.453c-5.56 9.022-15.841 12.78-22.958 8.376-7.096-4.382-8.366-15.216-2.796-24.258 5.55-9.063 15.831-12.779 22.938-8.376 7.106 4.423 8.397 15.237 2.816 24.258z"],["d","M366.745 191.959c-3.512 6.584-10.578 9.656-15.78 6.881-5.212-2.765-6.564-10.363-3.051-16.937 3.502-6.584 10.567-9.677 15.769-6.922 5.202 2.816 6.564 10.373 3.062 16.978z"],["role","img","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"svg-icon","github-svg-icon"],["d","M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"],["role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"svg-icon","itch-svg-icon"],["d","M3.129 1.338c-1.047 0.622-3.109 2.991-3.129 3.612v1.029c0 1.304 1.219 2.45 2.325 2.45 1.329 0 2.436-1.101 2.436-2.408 0 1.307 1.069 2.408 2.398 2.408s2.364-1.101 2.364-2.408c0 1.307 1.137 2.408 2.466 2.408h0.024c1.329 0 2.466-1.101 2.466-2.408 0 1.307 1.035 2.408 2.364 2.408s2.398-1.101 2.398-2.408c0 1.307 1.107 2.408 2.436 2.408 1.107 0 2.325-1.146 2.325-2.45v-1.029c-0.020-0.621-2.082-2.991-3.129-3.612-3.254-0.114-5.51-0.134-8.871-0.133s-7.945 0.053-8.871 0.133zM9.506 7.815c-0.133 0.23-0.288 0.428-0.467 0.601l-0.001 0.001c-0.502 0.49-1.189 0.794-1.947 0.794-0.001 0-0.002 0-0.003 0-0.759 0-1.447-0.303-1.949-0.795l0 0c-0.182-0.178-0.32-0.368-0.446-0.59l-0.001 0c-0.126 0.222-0.302 0.412-0.485 0.59-0.502 0.491-1.19 0.794-1.949 0.794-0.001 0-0.002 0-0.003 0h0c-0.091 0-0.186-0.025-0.263-0.052-0.107 1.112-0.152 2.175-0.168 2.95l-0 0.004c-0.002 0.394-0.004 0.717-0.006 1.167 0.021 2.334-0.231 7.564 1.029 8.849 1.953 0.455 5.546 0.663 9.151 0.664h0.001c3.605-0.001 7.198-0.209 9.151-0.664 1.26-1.285 1.008-6.516 1.029-8.849-0.002-0.45-0.004-0.773-0.006-1.167l-0-0.004c-0.016-0.775-0.061-1.838-0.168-2.95-0.077 0.026-0.172 0.052-0.263 0.052-0.001 0-0.002 0-0.002 0-0.759 0-1.447-0.303-1.949-0.795l0.001 0c-0.182-0.178-0.358-0.368-0.485-0.59l-0.001-0c-0.127 0.222-0.265 0.412-0.446 0.59-0.502 0.491-1.19 0.795-1.948 0.795-0.001 0-0.002 0-0.003 0h0c-0.758 0-1.445-0.304-1.947-0.795-0.179-0.174-0.334-0.372-0.461-0.589l-0.007-0.013c-0.132 0.23-0.286 0.428-0.463 0.602l-0 0c-0.502 0.491-1.19 0.795-1.949 0.795-0.001 0-0.002 0-0.003 0h0c-0.026 0-0.053-0.001-0.079-0.002h-0.001c-0.026 0.001-0.053 0.002-0.080 0.002-0.001 0-0.002 0-0.003 0-0.759 0-1.447-0.303-1.949-0.795l0.001 0c-0.178-0.174-0.331-0.372-0.456-0.589l-0.007-0.013zM7.502 10.406l-0 0.001h0.001c0.794 0.002 1.498 0 2.372 0.953 0.687-0.072 1.406-0.108 2.125-0.107h0.001c0.719-0.001 1.437 0.035 2.125 0.107 0.873-0.953 1.578-0.952 2.372-0.953h0.001l-0-0.001c0.375 0 1.875 0 2.92 2.935l1.122 4.026c0.832 2.995-0.266 3.069-1.636 3.071-2.031-0.076-3.156-1.551-3.156-3.026-1.124 0.184-2.436 0.276-3.748 0.276h-0.001c-1.312 0-2.624-0.092-3.748-0.276 0 1.475-1.125 2.95-3.156 3.026-1.37-0.003-2.468-0.076-1.636-3.071l1.123-4.026c1.045-2.935 2.545-2.935 2.92-2.935zM12 12.713v0.001c-0.002 0.002-2.138 1.964-2.523 2.662l1.399-0.056v1.22c0 0.057 0.561 0.034 1.123 0.008h0.001c0.562 0.026 1.123 0.049 1.123-0.008v-1.22l1.399 0.056c-0.384-0.698-2.523-2.662-2.523-2.662v-0.001l-0 0z"]],template:function(t,e){1&t&&(r.rc(0,n,5,0,"ng-container",0),r.rc(1,c,10,0,"ng-container",0),r.rc(2,a,5,0,"ng-container",0),r.rc(3,s,5,0,"ng-container",0)),2&t&&(r.cc("ngIf","Google Drive"===e.name),r.zb(1),r.cc("ngIf","Green Foot"===e.name),r.zb(1),r.cc("ngIf","GitHub"===e.name),r.zb(1),r.cc("ngIf","Itch.io"===e.name))},directives:[i.j],styles:["[_nghost-%COMP%]{fill:#aec6f1;display:inline-block;height:42px;width:42px;transform:perspective(1px) translateZ(0);transition-duration:.06s;transition-property:transform;-webkit-transform:perspective(1px) translateZ(0);-webkit-transform-duration:.06s;-webkit-transition-property:transform}[_nghost-%COMP%]:active{transform:scale(.95)}[_nghost-%COMP%]   .svg-icon[_ngcontent-%COMP%]{all:inherit;display:inline-block}[_nghost-%COMP%]   .svg-icon--inactive[_ngcontent-%COMP%]{fill:#acb5c7}"]}),t})()},pZC5:function(t,e,o){"use strict";o.r(e),o.d(e,"PortfolioModule",(function(){return J}));var r=o("ofXK"),i=o("3Pt+"),n=o("lR5k"),c=o("pKmL"),a=o("7of8"),s=o("tyNb"),l=o("fXoL");let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Db({type:t,selectors:[["app-portfolio"]],decls:1,vars:0,template:function(t,e){1&t&&l.Kb(0,"router-outlet")},directives:[s.e],encapsulation:2}),t})();var p=o("EsSE"),d=o("Rtfg"),f=o("dJ3e"),u=o("+5rw"),h=o("jhN1"),g=o("QibW"),m=o("bSwM"),_=o("4E6C");function j(t,e){if(1&t&&(l.Ob(0,"mat-radio-button",19),l.tc(1),l.Nb()),2&t){const t=e.$implicit;l.cc("value",t.status),l.zb(1),l.uc(t.status)}}function v(t,e){if(1&t&&(l.Ob(0,"div",20),l.Ob(1,"mat-checkbox",21),l.tc(2),l.Nb(),l.Kb(3,"br"),l.Nb()),2&t){const t=e.index,o=l.Zb(2);l.zb(1),l.cc("formControlName",t),l.zb(1),l.uc(o.projectData[t].name)}}function O(t,e){if(1&t){const t=l.Pb();l.Ob(0,"button",27),l.Vb("click",(function(){l.jc(t);const e=l.Zb().index;return l.Zb(2).changeTechnologyDisplayOrder(e,e-1)})),l.tc(1,"\u25b2"),l.Nb()}}function P(t,e){if(1&t){const t=l.Pb();l.Ob(0,"button",28),l.Vb("click",(function(){l.jc(t);const e=l.Zb().index;return l.Zb(2).changeTechnologyDisplayOrder(e,e+1)})),l.tc(1,"\u25bc"),l.Nb()}}const k=function(t){return{"btn--inactive":t}};function w(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",22),l.Kb(1,"input",23),l.rc(2,O,2,0,"button",24),l.rc(3,P,2,0,"button",25),l.Ob(4,"button",26),l.Vb("click",(function(){l.jc(t);const o=e.index;return l.Zb(2).removeTechnology(o)})),l.tc(5,"\u2715"),l.Nb(),l.Nb()}if(2&t){const t=e.index,o=l.Zb(2);l.zb(1),l.cc("formControlName",t),l.zb(1),l.cc("ngIf",0!==t),l.zb(1),l.cc("ngIf",t!==o.profileForm.controls.technologies.controls.length-1),l.zb(1),l.cc("ngClass",l.ec(5,k,1===o.profileForm.controls.technologies.controls.length))("disabled",1===o.profileForm.controls.technologies.controls.length)}}function C(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",2),l.Ob(1,"h1",3),l.tc(2,"Profile Editor"),l.Nb(),l.Kb(3,"div",4),l.Ob(4,"form",5),l.Vb("ngSubmit",(function(){return l.jc(t),l.Zb().onSubmit()})),l.Ob(5,"div",6),l.Ob(6,"label",7),l.tc(7,"Name"),l.Nb(),l.Kb(8,"br"),l.Kb(9,"br"),l.Kb(10,"input",8),l.Nb(),l.Ob(11,"div",6),l.Ob(12,"label",7),l.tc(13,"Status"),l.Nb(),l.Kb(14,"br"),l.Kb(15,"br"),l.Ob(16,"mat-radio-group",9),l.rc(17,j,2,2,"mat-radio-button",10),l.Nb(),l.Nb(),l.Ob(18,"div",6),l.Ob(19,"label",7),l.tc(20,"Projects"),l.Nb(),l.Kb(21,"br"),l.Kb(22,"br"),l.rc(23,v,4,2,"div",11),l.Nb(),l.Ob(24,"div",6),l.Ob(25,"label",7),l.tc(26,"Tagline"),l.Nb(),l.Kb(27,"br"),l.Kb(28,"br"),l.Kb(29,"input",12),l.Nb(),l.Ob(30,"div",6),l.Ob(31,"label",7),l.tc(32,"Landing"),l.Nb(),l.Kb(33,"br"),l.Kb(34,"br"),l.Kb(35,"input",13),l.Nb(),l.Ob(36,"div",6),l.Ob(37,"label",7),l.tc(38,"About"),l.Nb(),l.Kb(39,"br"),l.Kb(40,"br"),l.Kb(41,"input",14),l.Nb(),l.Ob(42,"div",6),l.Ob(43,"label",7),l.tc(44,"Technologies"),l.Nb(),l.Kb(45,"br"),l.Kb(46,"br"),l.rc(47,w,6,7,"div",15),l.Kb(48,"br"),l.Ob(49,"button",16),l.Vb("click",(function(){return l.jc(t),l.Zb().addTechnologyToForm()})),l.tc(50,"+"),l.Nb(),l.Kb(51,"br"),l.Nb(),l.Ob(52,"div",6),l.Ob(53,"label",7),l.tc(54,"Image URL"),l.Nb(),l.Kb(55,"br"),l.Kb(56,"br"),l.Kb(57,"input",17),l.Nb(),l.Ob(58,"button",18),l.tc(59," Submit "),l.Nb(),l.Nb(),l.Nb()}if(2&t){const t=l.Zb();l.zb(4),l.cc("formGroup",t.profileForm),l.zb(13),l.cc("ngForOf",t.statusData)("ngForTrackBy",t.trackingService.objectById),l.zb(6),l.cc("ngForOf",t.profileForm.controls.projects.controls)("ngForTrackBy",t.trackingService.objectById),l.zb(24),l.cc("ngForOf",t.profileForm.controls.technologies.controls)("ngForTrackBy",t.trackingService.objectById),l.zb(11),l.cc("ngClass",l.ec(9,k,!t.profileForm.valid))("disabled",!t.profileForm.valid)}}function N(t,e){1&t&&l.Kb(0,"app-loading-spinner")}let M=(()=>{class t{constructor(t,e,o,r,i,n,c,a,s,l,b,p){this.router=t,this.changeDetectionRef=e,this.formBuilder=o,this.authService=r,this.notificationService=i,this.portfolioApiService=n,this.portfolioComparisonService=c,this.portfolioEditorService=a,this.portfolioProfileService=s,this.titleService=l,this.trackingService=b,this.validationService=p,this.projectData=[],this.statusData=[],this.technologyData=[],this.isLoaded=!1}ngOnDestroy(){this.portfolioEditorService.setProfile(null)}ngOnInit(){this.titleService.setTitle("Portfolio Profile Editor | Matthew Maxwell"),this.checkForAdmin(),this.setPageHideEvent(),this.initProfileForm(),this.isLoaded=!0}checkForAdmin(){this.authService.isLoggedIn()||this.router.navigate([""])}setPageHideEvent(){window.onpagehide=()=>{this.portfolioEditorService.setProfile(null)}}initProfileForm(){this.loadProfileData(),this.loadProjectData(),this.loadStatusData(),this.loadTechnologyData(),this.buildProfileForm()}loadProfileData(){this.profileData=this.portfolioEditorService.getProfile(),console.log(this.profileData)}loadProjectData(){this.portfolioApiService.getProjects().subscribe(t=>{this.projectData=t.sort(this.portfolioComparisonService.projects),this.setProjectControls(this.profileData?this.profileData.projects.map(t=>t.id):[]),this.isLoaded=!0})}setProjectControls(t){this.projectData.forEach(e=>{const o=this.formBuilder.control(t.includes(e.id));this.profileForm.controls.projects.push(o)})}loadStatusData(){this.portfolioApiService.getProfileStatuses().subscribe(t=>{this.statusData=t})}loadTechnologyData(){this.profileData&&(this.technologyData=this.profileData.technologies.sort(this.portfolioComparisonService.profileTechnologies))}buildProfileForm(){this.profileForm=this.formBuilder.group(this.profileData?{name:this.formBuilder.control(this.profileData.name,[i.p.required]),status:this.formBuilder.control(this.profileData.status.status,[i.p.required]),projects:this.formBuilder.array(this.projectData,[this.validationService.hasMinElements(1)]),tagline:this.formBuilder.control(this.profileData.tagline,[i.p.required]),landing:this.formBuilder.control(this.profileData.landing,[i.p.required]),about:this.formBuilder.control(this.profileData.about,[i.p.required]),technologies:this.formBuilder.array(this.technologyData.map(t=>t.name),[i.p.required]),image_url:this.formBuilder.control(this.profileData.image_url,[i.p.required])}:{name:this.formBuilder.control("",[i.p.required]),status:this.formBuilder.control("ACTIVE",[i.p.required]),projects:this.formBuilder.array([],[this.validationService.hasMinElements(1)]),tagline:this.formBuilder.control("",[i.p.required]),landing:this.formBuilder.control("",[i.p.required]),about:this.formBuilder.control("",[i.p.required]),technologies:this.formBuilder.array([""],[i.p.required]),image_url:this.formBuilder.control("",[i.p.required])})}onSubmit(){const t=this.buildFormProfileData();"ACTIVE"===t.status.status&&this.portfolioProfileService.setActiveProfile(t),void 0===t.id?this.portfolioApiService.createProfile(t).subscribe(t=>{this.notificationService.createNotification("Successfully created new profile!"),this.router.navigate(["admin"])}):this.portfolioApiService.updateProfile(t).subscribe(t=>{this.notificationService.createNotification("Successfully updated existing profile!"),this.router.navigate(["admin"])})}buildFormProfileData(){const t=this.buildFormProjectData(),e=this.buildFormStatusData(),o=this.buildFormTechnologyData();return new p.a(Object.assign(Object.assign({},this.profileForm.value),{id:this.profileData?this.profileData.id:void 0,projects:t,status:e,technologies:o}))}buildFormProjectData(){return this.profileForm.value.projects.map((t,e)=>{if(t)return this.projectData[e]}).filter(t=>void 0!==t)}buildFormStatusData(){return this.statusData.find(t=>t.status===this.profileForm.value.status)}buildFormTechnologyData(){return this.profileForm.value.technologies.map((t,e)=>new p.c({name:t,display_order:e+1}))}addTechnologyToForm(){const t=this.formBuilder.control("",[i.p.required]);this.profileForm.controls.technologies.push(t),this.changeDetectionRef.detectChanges()}changeTechnologyDisplayOrder(t,e){const o=this.profileForm.get("technologies"),r=[...o.value];[r[t],r[e]]=[r[e],r[t]],o.setValue(r)}removeTechnology(t){this.profileForm.controls.technologies.removeAt(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(s.a),l.Jb(l.h),l.Jb(i.d),l.Jb(d.c),l.Jb(f.c),l.Jb(u.a),l.Jb(u.b),l.Jb(u.c),l.Jb(u.d),l.Jb(h.c),l.Jb(f.e),l.Jb(f.f))},t.\u0275cmp=l.Db({type:t,selectors:[["app-portfolio-profile-editor"]],decls:3,vars:2,consts:[["class","section editor",4,"ngIf","ngIfElse"],["loading",""],[1,"section","editor"],[1,"editor__header"],[1,"line-divider"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","name","required","","autofocus",""],["formControlName","status","name","status","required",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","form__checkbox-item","formArrayName","projects",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","tagline","required","","autofocus",""],["formControlName","landing","required","","autofocus",""],["formControlName","about","required","","autofocus",""],["class","editor__profile-btn-row","formArrayName","technologies",4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Add technology","type","button",1,"btn","editor__profile-btn--add","btn--go",3,"click"],["formControlName","image_url","required","","autofocus",""],["aria-label","Submit profile",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"],[3,"value"],["formArrayName","projects",1,"form__checkbox-item"],[3,"formControlName"],["formArrayName","technologies",1,"editor__profile-btn-row"],["required","","autofocus","",1,"editor__profile-form-field",3,"formControlName"],["aria-label","Move technology up","class","btn editor__profile-btn--edit","type","button",3,"click",4,"ngIf"],["aria-label","Move technology down","class","btn editor__profile-btn--edit","type","button",3,"click",4,"ngIf"],["aria-label","Delete technology","type","button",1,"btn","editor__profile-btn--warn","btn--warn",3,"ngClass","disabled","click"],["aria-label","Move technology up","type","button",1,"btn","editor__profile-btn--edit",3,"click"],["aria-label","Move technology down","type","button",1,"btn","editor__profile-btn--edit",3,"click"]],template:function(t,e){if(1&t&&(l.rc(0,C,60,11,"div",0),l.rc(1,N,1,0,"ng-template",null,1,l.sc)),2&t){const t=l.hc(2);l.cc("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[r.j,i.q,i.k,i.f,i.b,i.j,i.e,i.o,g.b,r.i,r.h,g.a,i.c,m.a,_.a],encapsulation:2}),t})();function S(t,e){if(1&t&&(l.Ob(0,"div",18),l.Ob(1,"mat-checkbox",19),l.tc(2),l.Nb(),l.Kb(3,"br"),l.Nb()),2&t){const t=e.index,o=l.Zb(2);l.zb(1),l.cc("formControlName",t),l.zb(1),l.uc(o.profileData[t].name)}}o("NEos");const y=function(t){return{"btn--inactive":t}};function D(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",2),l.Ob(1,"h1",3),l.tc(2,"Project Editor"),l.Nb(),l.Kb(3,"div",4),l.Ob(4,"form",5),l.Vb("ngSubmit",(function(){return l.jc(t),l.Zb().onSubmit()})),l.Ob(5,"div",6),l.Ob(6,"label",7),l.tc(7,"Name"),l.Nb(),l.Kb(8,"br"),l.Kb(9,"br"),l.Kb(10,"input",8),l.Nb(),l.Ob(11,"div",6),l.Ob(12,"label",7),l.tc(13,"Profiles"),l.Nb(),l.Kb(14,"br"),l.Kb(15,"br"),l.rc(16,S,4,2,"div",9),l.Nb(),l.Ob(17,"div",6),l.Ob(18,"label",7),l.tc(19,"Tagline"),l.Nb(),l.Kb(20,"br"),l.Kb(21,"br"),l.Kb(22,"input",10),l.Nb(),l.Ob(23,"div",11),l.Ob(24,"label",7),l.tc(25,"Description"),l.Nb(),l.Kb(26,"br"),l.Kb(27,"br"),l.Kb(28,"textarea",12),l.Nb(),l.Ob(29,"div",6),l.Ob(30,"label",7),l.tc(31,"Image URL"),l.Nb(),l.Kb(32,"br"),l.Kb(33,"br"),l.Kb(34,"input",13),l.Nb(),l.Ob(35,"div",6),l.Ob(36,"label",7),l.tc(37,"Link"),l.Nb(),l.Kb(38,"br"),l.Kb(39,"br"),l.Ob(40,"label",14),l.tc(41,"Name"),l.Nb(),l.Kb(42,"br"),l.Kb(43,"br"),l.Kb(44,"input",15),l.Kb(45,"br"),l.Kb(46,"br"),l.Ob(47,"label",14),l.tc(48,"URL"),l.Nb(),l.Kb(49,"br"),l.Kb(50,"br"),l.Kb(51,"input",16),l.Nb(),l.Ob(52,"button",17),l.tc(53," Submit "),l.Nb(),l.Nb(),l.Nb()}if(2&t){const t=l.Zb();l.zb(4),l.cc("formGroup",t.projectForm),l.zb(12),l.cc("ngForOf",t.projectForm.controls.profiles.controls)("ngForTrackBy",t.trackingService.objectById),l.zb(36),l.cc("ngClass",l.ec(5,y,!t.projectForm.valid))("disabled",!t.projectForm.valid)}}function x(t,e){1&t&&l.Kb(0,"app-loading-spinner")}let F=(()=>{class t{constructor(t,e,o,r,i,n,c,a,s,l,b,p){this.authService=t,this.cdRef=e,this.notificationService=o,this.portfolioApiService=r,this.portfolioComparisonService=i,this.portfolioEditorService=n,this.seoService=c,this.titleService=a,this.trackingService=s,this.validationService=l,this.formBuilder=b,this.router=p,this.profileData=[],this.isLoaded=!1}ngOnDestroy(){this.portfolioEditorService.setProject(null)}ngOnInit(){this.titleService.setTitle("Portfolio Project Editor | Matthew Maxwell"),this.checkForAdmin(),this.setPageHideEvent(),this.initProjectForm()}checkForAdmin(){this.authService.isLoggedIn()||this.router.navigate([""])}setPageHideEvent(){window.onpagehide=()=>{this.portfolioEditorService.setProject(null)}}initProjectForm(){this.loadProjectData(),this.loadProfileData(),this.buildProjectForm()}loadProjectData(){this.projectData=this.portfolioEditorService.getProject()}loadProfileData(){this.portfolioApiService.getProfiles().subscribe(t=>{this.profileData=t.sort(this.portfolioComparisonService.profiles),this.setProfileControls(this.projectData?this.projectData.profiles.map(t=>t.id):[]),this.isLoaded=!0})}setProfileControls(t){this.profileData.forEach(e=>{const o=this.formBuilder.control(t.includes(e.id));this.projectForm.controls.profiles.push(o)})}buildProjectForm(){this.projectForm=this.formBuilder.group(this.projectData?{name:this.formBuilder.control(this.projectData.name,[i.p.required]),profiles:this.formBuilder.array(this.profileData,[this.validationService.hasMinElements()]),tagline:this.formBuilder.control(this.projectData.tagline,[i.p.required]),description:this.formBuilder.control(this.projectData.description,[i.p.required]),image_url:this.formBuilder.control(this.projectData.image_url,[i.p.required]),link_name:this.formBuilder.control(this.projectData.link_name,[i.p.required]),link_url:this.formBuilder.control(this.projectData.link_url,[i.p.required])}:{name:this.formBuilder.control("",[i.p.required]),profiles:this.formBuilder.array([],[this.validationService.hasMinElements()]),tagline:this.formBuilder.control("",[i.p.required]),description:this.formBuilder.control("",[i.p.required]),image_url:this.formBuilder.control("",[i.p.required]),link_name:this.formBuilder.control("",[i.p.required]),link_url:this.formBuilder.control("",[i.p.required])})}onSubmit(){const t=this.buildFormProjectData();void 0===t.id?this.portfolioApiService.createProject(t).subscribe(t=>{this.notificationService.createNotification("Successfully created new portfolio project!"),this.router.navigate(["projects/"+this.seoService.getCanonicalUrl(t.id,t.name)])}):this.portfolioApiService.updateProject(t).subscribe(t=>{this.notificationService.createNotification("Successfully updated existing portfolio project!"),this.router.navigate(["projects/"+this.seoService.getCanonicalUrl(t.id,t.name)])})}buildFormProjectData(){const t=this.buildFormProfileData();return new p.d(Object.assign(Object.assign({},this.projectForm.value),{id:this.projectData?this.projectData.id:void 0,profiles:t}))}buildFormProfileData(){return this.projectForm.value.profiles.map((t,e)=>{if(t)return this.profileData[e]}).filter(t=>void 0!==t)}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(d.c),l.Jb(l.h),l.Jb(f.c),l.Jb(u.a),l.Jb(u.b),l.Jb(u.c),l.Jb(f.d),l.Jb(h.c),l.Jb(f.e),l.Jb(f.f),l.Jb(i.d),l.Jb(s.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-portfolio-project-editor"]],decls:3,vars:2,consts:[["class","section editor",4,"ngIf","ngIfElse"],["loading",""],[1,"section","editor"],[1,"editor__header"],[1,"line-divider"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","name","required","","autofocus",""],["class","form__checkbox-item","formArrayName","profiles",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","tagline","required",""],[1,"form-field","form-field--large","editor__form-field"],["formControlName","description","required",""],["formControlName","image_url","required",""],[1,"form-field-label--small","editor__form-field-label--small"],["formControlName","link_name","required",""],["formControlName","link_url","required",""],["aria-label","Submit project",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"],["formArrayName","profiles",1,"form__checkbox-item"],[3,"formControlName"]],template:function(t,e){if(1&t&&(l.rc(0,D,54,7,"div",0),l.rc(1,x,1,0,"ng-template",null,1,l.sc)),2&t){const t=l.hc(2);l.cc("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[r.j,i.q,i.k,i.f,i.b,i.j,i.e,i.o,r.i,r.h,i.c,m.a,_.a],encapsulation:2}),t})();var K=o("O09W");function z(t,e){if(1&t){const t=l.Pb();l.Ob(0,"div",17),l.Ob(1,"a",18),l.Vb("click",(function(){return l.jc(t),l.Zb(2).sendProjectToEditor()})),l.tc(2," \u270f "),l.Nb(),l.Ob(3,"a",19),l.Vb("click",(function(){return l.jc(t),l.Zb(2).deleteProject()})),l.tc(4," \u2715 "),l.Nb(),l.Nb()}}function B(t,e){if(1&t&&(l.Ob(0,"div",2),l.Ob(1,"h1",3),l.tc(2),l.Nb(),l.Ob(3,"h2",4),l.tc(4),l.Nb(),l.rc(5,z,5,0,"div",5),l.Kb(6,"p",6),l.Ob(7,"div",7),l.Ob(8,"a",8),l.Kb(9,"app-icon",9),l.Nb(),l.Nb(),l.Kb(10,"div",10),l.Ob(11,"div",11),l.Ob(12,"a",12),l.Ob(13,"picture"),l.Kb(14,"source",13),l.Kb(15,"source",14),l.Kb(16,"img",15),l.Nb(),l.Nb(),l.Nb(),l.Kb(17,"markdown",16),l.Nb()),2&t){const t=l.Zb();l.zb(2),l.uc(t.project.name),l.zb(2),l.uc(t.project.tagline),l.zb(1),l.cc("ngIf",t.isAdmin),l.zb(1),l.cc("innerHtml","Updated: "+t.seoService.getFormattedDate(t.project.updated_at),l.kc),l.zb(2),l.cc("href",t.project.link_url,l.lc),l.zb(1),l.cc("name",t.project.link_name),l.zb(3),l.cc("href",t.project.link_url,l.lc),l.zb(2),l.cc("srcset",t.project.image_url,l.lc),l.zb(1),l.cc("srcset",t.project.image_url.substring(0,t.project.image_url.length-4)+"png",l.lc),l.zb(1),l.cc("src",t.project.image_url.substring(0,t.project.image_url.length-4)+"png",l.lc)("alt",t.project.name+"image"),l.zb(1),l.cc("data",t.project.description)}}function I(t,e){1&t&&l.Kb(0,"app-loading-spinner")}const q=[{path:"",component:b,children:[{path:"profiles/editor",component:M},{path:"projects/editor",component:F},{path:"projects/:id/:uri",component:(()=>{class t{constructor(t,e,o,r,i,n,c){this.authService=t,this.notificationService=e,this.portfolioProjectApiService=o,this.portfolioProjectEditorService=r,this.seoService=i,this.titleService=n,this.router=c,this.isAdmin=!1,this.isLoaded=!1}ngOnInit(){this.isAdmin=this.authService.isLoggedIn();const t=this.seoService.getIdFromUrl(this.router.url);if(!t)return this.notificationService.createNotification("Unable to find portfolio project ID."),void this.router.navigate([""]);this.portfolioProjectApiService.getProject(t).subscribe(t=>{this.project=t,this.titleService.setTitle(`${t.name} - ${t.tagline} | Portfolio | Matthew Maxwell`),this.isLoaded=!0},t=>{this.notificationService.createNotification(t.error.message),this.router.navigate([""])})}sendProjectToEditor(){this.portfolioProjectEditorService.setProject(this.project)}deleteProject(){this.portfolioProjectApiService.deleteProject(this.project.id).subscribe(t=>{this.notificationService.createNotification("Successfully deleted the project!"),this.router.navigate([""])})}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(d.c),l.Jb(f.c),l.Jb(u.a),l.Jb(u.c),l.Jb(f.d),l.Jb(h.c),l.Jb(s.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-portfolio-project-view"]],decls:3,vars:2,consts:[["class","section project",4,"ngIf","ngIfElse"],["loading",""],[1,"section","project"],[1,"project__name"],[1,"project__tagline"],["class","project__btn-container",4,"ngIf"],[1,"project__date",3,"innerHtml"],[1,"project__external-container"],["target","_blank","rel","noopener noreferrer",1,"icon","project__external-icon",3,"href"],[3,"name"],[1,"line-divider"],[1,"project__image-link-container"],["target","_blank","rel","noopener noreferrer",1,"project__image-link",3,"href"],["type","image/webp",3,"srcset"],["type","image/png",3,"srcset"],["height","150",1,"project__image",3,"src","alt"],[3,"data"],[1,"project__btn-container"],["routerLink","/portfolio/projects/editor",1,"btn","project__btn",3,"click"],["routerLink","",1,"btn","project__btn","btn--warn",3,"click"]],template:function(t,e){if(1&t&&(l.rc(0,B,18,12,"div",0),l.rc(1,I,1,0,"ng-template",null,1,l.sc)),2&t){const t=l.hc(2);l.cc("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[r.j,K.a,n.a,s.c,_.a],styles:["markdown[_ngcontent-%COMP%]     h1, markdown[_ngcontent-%COMP%]     h2, markdown[_ngcontent-%COMP%]     h3, markdown[_ngcontent-%COMP%]     h4, markdown[_ngcontent-%COMP%]     h5, markdown[_ngcontent-%COMP%]     h6{margin:calc(2rem * 1.25) 0 calc(2rem * .75)}markdown[_ngcontent-%COMP%]     img, markdown[_ngcontent-%COMP%]     p{margin:1rem 0}markdown[_ngcontent-%COMP%]     pre{margin:calc(1rem * 1) 0 calc(1rem * 1.5)}markdown[_ngcontent-%COMP%]     a{color:#aec6f1;display:inline-block}markdown[_ngcontent-%COMP%]     div img{box-sizing:border-box}markdown[_ngcontent-%COMP%]     div img, markdown[_ngcontent-%COMP%]     img{border:1px solid #000;text-align:center;width:100%}markdown[_ngcontent-%COMP%]     img{height:auto}markdown[_ngcontent-%COMP%]     p code{background-color:#4e5d74;box-sizing:border-box;color:#fcfdff;margin:0 calc(.5rem / 2);padding:calc(.5rem / 4) calc(.5rem / 2)}markdown[_ngcontent-%COMP%]     .text--note{color:#aec6f1}markdown[_ngcontent-%COMP%]     .text--note-paragraph{color:#e1edff}markdown[_ngcontent-%COMP%]     .text--caution{color:#ffe7a0}markdown[_ngcontent-%COMP%]     .text--caution-paragraph{color:#ffefd3}markdown[_ngcontent-%COMP%]     .text--warn{color:#ffa0b6}markdown[_ngcontent-%COMP%]     .text--warn-paragraph{color:#ffd6dc}markdown[_ngcontent-%COMP%]     .text--tip{color:#9bec8f}markdown[_ngcontent-%COMP%]     .text--tip-paragraph{color:#d7ffd5}@media only screen and (min-width:768px){markdown[_ngcontent-%COMP%]     a:hover{text-decoration:underline}markdown[_ngcontent-%COMP%]     img{width:64%}}.project[_ngcontent-%COMP%]{min-height:calc(100vh - 8vh - 6vh * 2 - 15vh)}.project__name[_ngcontent-%COMP%]{margin-bottom:1rem}.project__tagline[_ngcontent-%COMP%]{color:#acb5c7;font-style:italic;font-weight:500;margin-bottom:2rem}.project__btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.project__btn[_ngcontent-%COMP%]{font-size:130%;height:36px;line-height:36px;margin:0 .5rem 2rem 0;width:64px}.project__date[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.project__external-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.project__external-icon[_ngcontent-%COMP%]{margin:.5rem 0 0;transition:transform .2s ease}.project__image-link[_ngcontent-%COMP%], .project__image-link-container[_ngcontent-%COMP%]{text-align:center;width:100%}.project__image[_ngcontent-%COMP%]{height:auto;margin-bottom:2rem;width:100%}@media only screen and (min-width:768px){.project__external-icon[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.project__image[_ngcontent-%COMP%]{width:64%}}"]}),t})()}]}];let E=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[s.d.forChild(q)],s.d]}),t})(),J=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},providers:[u.a,u.b],imports:[[r.b,c.a,n.b.forRoot(),a.a,E,i.n]]}),t})()}}]);