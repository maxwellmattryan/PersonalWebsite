(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"4E6C":function(t,e,o){"use strict";o.d(e,"a",function(){return n});var i=o("fXoL");let n=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["ui-loading-spinner"]],decls:4,vars:0,consts:[[1,"app-loading"],[1,"logo"],["viewBox","25 25 50 50",1,"spinner"],["cx","50","cy","50","r","20","fill","none","stroke-width","2","stroke-miterlimit","10",1,"path"]],template:function(t,e){1&t&&(i.Qb(0,"div",0),i.Mb(1,"div",1),i.ac(),i.Qb(2,"svg",2),i.Mb(3,"circle",3),i.Pb(),i.Pb())},styles:[".app-loading[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:calc(100vh - 8vh - 6vh);justify-content:center;position:sticky;position:-webkit-sticky;top:0}.app-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:200px;width:200px;-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;transform-origin:center center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.app-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;-webkit-animation:dash 1s ease-in-out infinite;animation:dash 1s ease-in-out infinite;stroke-linecap:round;stroke:#ddd}@-webkit-keyframes rotate{to{transform:rotate(1turn)}}@keyframes rotate{to{transform:rotate(1turn)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}"]}),t})()},Km2g:function(t,e,o){"use strict";o.r(e),o.d(e,"ShopModule",function(){return Bt});var i=o("ofXK"),n=o("3Pt+"),r=o("lR5k"),c=o("pKmL"),a=o("7of8"),s=o("tyNb"),d=o("fXoL");let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop"]],decls:1,vars:0,template:function(t,e){1&t&&d.Mb(0,"router-outlet")},directives:[s.f],encapsulation:2}),t})();class b{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this.products=t.products.map(t=>new h(Object.assign({},t)).deserialize(t)),this}}var l=function(t){return t.AVAILABLE="AXQBK7",t.UNAVAILABLE="5Z06AN",t.DISCONTINUED="85P8TU",t.REMOVED="2U5UC0",t}({});class h{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this.status=t.status.map(t=>new b(Object.assign({},t)).deserialize(t)),this.category=t.status.map(t=>new g(Object.assign({},t)).deserialize(t)),this}}class g{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this.products=t.products.map(t=>new h(Object.assign({},t)).deserialize(t)),this}}class p{constructor(t){Object.assign(this,t)}deserialize(t){return Object.assign(this,t),this}}var f=o("Rtfg"),m=o("dJ3e"),_=o("tk/3"),v=o("AytR"),P=o("vAmI");let y=(()=>{class t extends P.a{constructor(t){super(t)}createCategory(t){const e=this.contentTypeHeader();return this.http.post(`${v.a.API_URL}/shop/categories`,t,{headers:e})}getCategories(){return this.http.get(`${v.a.API_URL}/shop/categories`)}updateCategory(t){const e=this.contentTypeHeader();return this.http.put(`${v.a.API_URL}/shop/categories/${t.id}`,t,{headers:e})}deleteCategory(t){return this.http.delete(`${v.a.API_URL}/shop/categories/${t}`)}createProduct(t){const e=this.contentTypeHeader();return this.http.post(`${v.a.API_URL}/shop/products`,t,{headers:e})}getProducts(t="",e=""){let o=new _.e;return""!=t&&(o=o.set("statusId",t)),""!=e&&(o=o.set("categoryId",e)),this.http.get(`${v.a.API_URL}/shop/products`,{params:o})}getProductStatuses(){return this.http.get(`${v.a.API_URL}/shop/product-statuses`)}updateProduct(t){const e=this.contentTypeHeader();return this.http.put(`${v.a.API_URL}/shop/products/${t.id}`,t,{headers:e})}deleteProduct(t,e=!0){let o=new _.e;return e&&(o=o.set("doSoftDelete","true")),this.http.delete(`${v.a.API_URL}/shop/products/${t}`,{params:o})}helpCustomer(t){const e=this.contentTypeHeader();return console.log(t),this.http.post(`${v.a.API_URL}/shop/customers/help`,Object.assign({},t),{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(_.b))},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C=(()=>{class t{constructor(){}getActiveCategoryId(){return this.activeCategory?this.activeCategory.id:-1}hasActiveCategory(){return void 0!==this.activeCategory}setActiveCategory(t){this.activeCategory=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=o("Cfvw"),w=o("5+tZ"),M=o("lJxs"),O=o("dBlp");let k=(()=>{class t extends P.a{constructor(t){super(t),this.stripe$=Object(S.a)(Object(O.loadStripe)(v.a.STRIPE_PK))}goToCheckout(t){return this.getSession(t).pipe(Object(w.a)(t=>this.redirectToCheckout(t)))}getSession(t){const e=this.contentTypeHeader();return this.http.post(`${v.a.API_URL}/shop/checkout/init`,t,{headers:e}).pipe(Object(M.a)(t=>t.id))}redirectToCheckout(t){return this.stripe$.pipe(Object(w.a)(e=>e.redirectToCheckout({sessionId:t})))}completeCheckout(t,e){let o=new _.e;return o=o.set("productId",t),o=o.set("sessionId",e),console.log(o),this.http.post(`${v.a.API_URL}/shop/checkout/complete`,{},{params:o})}completeFreeCheckout(t,e){let o=new _.e;return o=o.set("productId",t),o=o.set("isFreeProduct","true"),this.http.post(`${v.a.API_URL}/shop/checkout/complete`,{email:e},{params:o})}getCustomer(){return this.customer}setCustomer(t){this.customer=t}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(_.b))},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q=(()=>{class t extends m.a{constructor(){super(),this.categories=(t,e)=>t.name>e.name?1:t.name<e.name?-1:0,this.products=(t,e)=>t.name>e.name?1:e.name<e.name?-1:0,this.productStatuses=(t,e)=>t.status>e.status?1:t.status<t.status?-1:0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q=(()=>{class t extends m.b{constructor(){super()}getCategory(){return this.category}hasCategory(){return null!=this.category}setCategory(t){this.category=t}getProduct(){return this.product}hasProduct(){return null!=this.product}setProduct(t){this.product=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=o("jhN1"),L=o("bSwM"),x=o("4E6C");function B(t,e){if(1&t&&(d.Qb(0,"div",12),d.Qb(1,"mat-checkbox",13),d.vc(2),d.Pb(),d.Mb(3,"br"),d.Pb()),2&t){const t=e.index,o=d.bc(2);d.Bb(1),d.ec("formControlName",t),d.Bb(1),d.wc(o.productData[t].name)}}function A(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",14),d.Mb(2,"div",15),d.Pb(),d.Nb())}function F(t,e){1&t&&(d.Ob(0),d.vc(1," Submit "),d.Nb())}const E=function(t,e){return{"btn-loading":t,"btn--inactive":e}};function N(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",2),d.Qb(1,"h1",3),d.vc(2,"Shop Category Editor"),d.Pb(),d.Mb(3,"div",4),d.Qb(4,"form",5),d.Xb("ngSubmit",function(){return d.mc(t),d.bc().onSubmit()}),d.Qb(5,"div",6),d.Qb(6,"label",7),d.vc(7,"Name"),d.Pb(),d.Mb(8,"br"),d.Mb(9,"br"),d.Mb(10,"input",8),d.Pb(),d.Qb(11,"div",6),d.Qb(12,"label",7),d.vc(13,"Products"),d.Pb(),d.Mb(14,"br"),d.Mb(15,"br"),d.tc(16,B,4,2,"div",9),d.Pb(),d.Qb(17,"button",10),d.tc(18,A,3,0,"ng-container",11),d.tc(19,F,2,0,"ng-container",11),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=d.bc();d.Bb(4),d.ec("formGroup",t.categoryForm),d.Bb(12),d.ec("ngForOf",t.categoryForm.controls.products.controls)("ngForTrackBy",t.trackingService.objectById),d.Bb(1),d.ec("ngClass",d.hc(7,E,t.isSubmittingForm,!t.categoryForm.valid))("disabled",!t.categoryForm.valid),d.Bb(1),d.ec("ngIf",t.isSubmittingForm),d.Bb(1),d.ec("ngIf",!t.isSubmittingForm)}}function D(t,e){1&t&&d.Mb(0,"ui-loading-spinner")}let T=(()=>{class t{constructor(t,e,o,i,n,r,c,a,s){this.authService=t,this.notificationService=e,this.shopApiService=o,this.shopComparisonService=i,this.shopEditorService=n,this.titleService=r,this.trackingService=c,this.formBuilder=a,this.router=s,this.isLoaded=!1,this.isSubmittingForm=!1}ngOnInit(){this.titleService.setTitle("Shop Category Editor | Matthew Maxwell"),this.checkForAdmin(),this.setPageHideEvent(),this.initCategoryForm()}ngOnDestroy(){this.shopEditorService.setCategory(null)}checkForAdmin(){this.authService.isLoggedIn()||this.router.navigate([""])}setPageHideEvent(){window.onpagehide=()=>{this.shopEditorService.setCategory(null)}}initCategoryForm(){this.loadCategoryData(),this.loadProductData(),this.buildCategoryForm()}loadCategoryData(){this.categoryData=this.shopEditorService.getCategory()}loadProductData(){this.shopApiService.getProducts(l.AVAILABLE.toString()).subscribe(t=>{this.productData=t.sort(this.shopComparisonService.products),this.setProductControls(this.categoryData?this.categoryData.products.map(t=>t.id):[]),this.isLoaded=!0})}setProductControls(t){this.productData.forEach(e=>{const o=t.includes(e.id),i=this.formBuilder.control({value:o,disabled:o});this.categoryForm.controls.products.push(i)})}buildCategoryForm(){const t=!this.shopEditorService.hasCategory();this.categoryForm=this.formBuilder.group({name:this.formBuilder.control(t?"":this.categoryData.name,[n.p.required,n.p.maxLength(50)]),products:this.formBuilder.array([],[])})}onSubmit(){this.isSubmittingForm=!0;const t=this.buildCategory();void 0===t.id?this.shopApiService.createCategory(t).subscribe(t=>{this.isSubmittingForm=!1,this.notificationService.createNotification("Successfully created shop category!"),this.router.navigate(["shop"])}):this.shopApiService.updateCategory(t).subscribe(t=>{this.isSubmittingForm=!1,this.notificationService.createNotification("Successfully updated existing shop category!"),this.router.navigate(["shop"])})}buildCategory(){const t=this.categoryForm.value,e=this.buildProducts();return new g(Object.assign(Object.assign({},t),{id:this.categoryData?this.categoryData.id:void 0,products:e}))}buildProducts(){return this.categoryForm.getRawValue().products.map((t,e)=>{if(t)return this.productData[e]}).filter(t=>void 0!==t)}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(f.c),d.Lb(m.c),d.Lb(y),d.Lb(Q),d.Lb(q),d.Lb(I.c),d.Lb(m.f),d.Lb(n.d),d.Lb(s.b))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-category-editor"]],decls:3,vars:2,consts:[["class","section editor",4,"ngIf","ngIfElse"],["loading",""],[1,"section","editor"],[1,"editor__header"],[1,"line-divider"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","name","required","","autofocus",""],["class","form__checkbox-item","formArrayName","products",4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Submit shop category",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"],[4,"ngIf"],["formArrayName","products",1,"form__checkbox-item"],[3,"formControlName"],[1,"btn-loader-container"],[1,"btn-loader"]],template:function(t,e){if(1&t&&(d.tc(0,N,20,10,"div",0),d.tc(1,D,1,0,"ng-template",null,1,d.uc)),2&t){const t=d.kc(2);d.ec("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[i.j,n.q,n.k,n.f,n.b,n.j,n.e,n.o,i.i,i.h,n.c,L.a,x.a],encapsulation:2}),t})();function j(t,e){1&t&&(d.Ob(0),d.vc(1," Thanks for your purchase! "),d.Nb())}function R(t,e){1&t&&(d.Ob(0),d.vc(1," Thanks for downloading! "),d.Nb())}function $(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",2),d.Qb(1,"h1",3),d.tc(2,j,2,0,"ng-container",4),d.tc(3,R,2,0,"ng-container",4),d.Pb(),d.Qb(4,"h3",5),d.vc(5),d.Pb(),d.Qb(6,"p",6),d.vc(7," A download URL has been sent to the email you provided. If you have any questions, please refer to the "),d.Qb(8,"a",7),d.vc(9,"FAQ page"),d.Pb(),d.vc(10," or feel free to send me an "),d.Qb(11,"a",8),d.Xb("click",function(){return d.mc(t),d.bc().obfuscationService.handleEmailClick()}),d.vc(12,"email"),d.Pb(),d.vc(13,". "),d.Pb(),d.Qb(14,"p",9),d.vc(15," Cheers! "),d.Pb(),d.Pb()}if(2&t){const t=d.bc();d.Bb(2),d.ec("ngIf",t.order.amount>0),d.Bb(1),d.ec("ngIf",t.order.amount<=0),d.Bb(2),d.xc(" Order ID - ",t.order.id," "),d.Bb(6),d.ec("href","mailto:"+t.obfuscationService.constructEmail(),d.oc)}}function X(t,e){1&t&&d.Mb(0,"ui-loading-spinner")}let U=(()=>{class t{constructor(t,e,o,i,n,r){this.notificationService=t,this.obfuscationService=e,this.shopCheckoutService=o,this.titleService=i,this.activatedRoute=n,this.router=r,this.isLoaded=!1}ngOnInit(){this.titleService.setTitle("Shop Checkout | Matthew Maxwell"),this.activatedRoute.queryParams.subscribe(t=>{if("true"==t.success){const e=t.productId,o=t=>{this.order=t,this.isLoaded=!0},i=t=>{this.notificationService.createNotification(t.error.message,"",3600),this.router.navigate(["shop"])};if("true"==t.isFreeProduct){const t=this.shopCheckoutService.getCustomer();t||this.router.navigate(["shop"]),this.shopCheckoutService.completeFreeCheckout(e,t.email).subscribe(o,i)}else this.shopCheckoutService.completeCheckout(e,t.sessionId).subscribe(o,i)}else this.notificationService.createNotification("The payment process was canceled."),this.router.navigate(["shop"])})}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(m.c),d.Lb(m.d),d.Lb(k),d.Lb(I.c),d.Lb(s.a),d.Lb(s.b))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-checkout-view"]],decls:3,vars:2,consts:[["class","section checkout",4,"ngIf","ngIfElse"],["loading",""],[1,"section","checkout"],[1,"checkout__header"],[4,"ngIf"],[1,"checkout__order-number"],[1,"checkout__info"],["routerLink","/shop/faq",1,"checkout__info-link"],[1,"checkout__info-link",3,"href","click"],[1,"checkout__last"]],template:function(t,e){if(1&t&&(d.tc(0,$,16,4,"div",0),d.tc(1,X,1,0,"ng-template",null,1,d.uc)),2&t){const t=d.kc(2);d.ec("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[i.j,s.d,x.a],styles:[".checkout__header[_ngcontent-%COMP%]{margin:calc(2 * 2rem) 0;text-align:center}.checkout__info[_ngcontent-%COMP%], .checkout__order-number[_ngcontent-%COMP%]{margin-bottom:2rem}.checkout__info[_ngcontent-%COMP%]{width:100%}.checkout__info[_ngcontent-%COMP%]   .checkout__info-link[_ngcontent-%COMP%]{color:#aec6f1}@media only screen and (min-width:768px){.checkout[_ngcontent-%COMP%]{min-height:calc(100vh - 8vh - 6vh * 2 - 15vh)}.checkout__info-link[_ngcontent-%COMP%]:hover{text-decoration:underline}}"]}),t})();var H=o("4iXa");const z=function(t){return{"btn--inactive":t}};let V=(()=>{class t extends H.a{constructor(t,e){super(t,e),this.elem=t,this.formBuilder=e}ngOnInit(){this.buildModalForm()}buildModalForm(){this.modalForm=this.formBuilder.group({email:this.formBuilder.control("",[n.p.required,n.p.email])})}submitModalForm(){const t=this.buildCustomer();this.modalEvent.emit(t)}buildCustomer(){return new p(Object.assign({},this.modalForm.value))}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(d.l),d.Lb(n.d))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-checkout-modal"]],features:[d.yb],decls:21,vars:6,consts:[[1,"modal","hidden",3,"id"],[1,"modal__background",3,"click"],[1,"modal__body"],[1,"modal__close-btn-container"],["aria-label","Close shop checkout modal",1,"modal__close-btn",3,"click"],[1,"modal__close-btn-spacer"],[1,"modal__content"],[1,"modal__header"],[1,"modal__info"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","email","required","","autofocus",""],["aria-label","Submit shop category",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"div",1),d.Xb("click",function(){return e.closeModal()}),d.Pb(),d.Qb(2,"div",2),d.Qb(3,"div",3),d.Qb(4,"button",4),d.Xb("click",function(){return e.closeModal()}),d.vc(5," \u2716 "),d.Pb(),d.Mb(6,"div",5),d.Pb(),d.Qb(7,"div",6),d.Qb(8,"h1",7),d.vc(9,"Shop Checkout"),d.Pb(),d.Qb(10,"div",8),d.vc(11," Please enter the following information to receive an email containing a download URL. "),d.Pb(),d.Qb(12,"form",9),d.Xb("ngSubmit",function(){return e.submitModalForm()}),d.Qb(13,"div",10),d.Qb(14,"label",11),d.vc(15,"Email"),d.Pb(),d.Mb(16,"br"),d.Mb(17,"br"),d.Mb(18,"input",12),d.Pb(),d.Qb(19,"button",13),d.vc(20," Submit "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.ec("id",e.modalId),d.Bb(12),d.ec("formGroup",e.modalForm),d.Bb(7),d.ec("ngClass",d.gc(4,z,!e.modalForm.valid))("disabled",!e.modalForm.valid))},directives:[n.q,n.k,n.f,n.b,n.j,n.e,n.o,i.h],encapsulation:2,changeDetection:0}),t})();function W(t,e){1&t&&(d.Ob(0),d.vc(1," Submit "),d.Nb())}function G(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",47),d.Mb(2,"div",48),d.Pb(),d.Nb())}const J=function(t){return{"btn--inactive":t}};let K=(()=>{class t{constructor(t,e,o,i,n,r){this.changeDetectorRef=t,this.notificationService=e,this.obfuscationService=o,this.shopApiService=i,this.titleService=n,this.formBuilder=r,this.answerShowClass="faq__category-info-q-container--show",this.answerHiddenClass="faq__category-info-q-container--hidden",this.categoryShowClass="faq__category-info--show",this.categoryHiddenClass="faq__category-info--hidden",this.isSubmittingEmail=!1,this.timeoutFn=()=>{this.isSubmittingEmail&&(this.isSubmittingEmail=!1,this.notificationService.createNotification("Sorry, unable to reach server. Please refresh and try again."))}}ngOnInit(){this.titleService.setTitle("Shop FAQ | Matthew Maxwell"),this.initEmailForm()}initEmailForm(){this.emailForm=this.formBuilder.group({email:this.formBuilder.control("",[n.p.required,n.p.email])})}onEmailSubmit(){this.isSubmittingEmail=!0,setTimeout(this.timeoutFn,1e4);const t=new p({email:this.emailForm.value.email});this.shopApiService.helpCustomer(t).subscribe(t=>{this.isSubmittingEmail=!1,this.initEmailForm(),this.notificationService.createNotification("Successfully sent download URL(s) to your email! It may take a moment to show up in your inbox.","",3600),this.changeDetectorRef.detectChanges()},t=>{this.isSubmittingEmail=!1,this.notificationService.createNotification("Sorry, unable to find customer. Please check that your email is correct.","",3600),this.changeDetectorRef.detectChanges()})}toggleCategory(t,e){const o=document.getElementById(`faq__${t}`);let i=this.elementContainsStyles(o,"category");e.target.innerHTML=i?"&#8722;":"&#x2b;",this.modifyStyles(o,i?this.categoryShowClass:this.categoryHiddenClass,i?this.categoryHiddenClass:this.categoryShowClass)}toggleAnswer(t,e){let o=document.getElementById(t),i=this.elementContainsStyles(o,"answer");e.target.innerHTML=i?"&#8722;":"&#x2b;",this.modifyStyles(o,i?this.answerShowClass:this.answerHiddenClass,i?this.answerHiddenClass:this.answerShowClass)}elementContainsStyles(t,e){const o="category"==e,i=o?this.categoryShowClass:this.answerShowClass;return t.classList.contains(o?this.categoryHiddenClass:this.answerHiddenClass)||!t.classList.contains(i)}modifyStyles(t,e,o){t.classList.remove(o),t.classList.add(e)}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(d.h),d.Lb(m.c),d.Lb(m.d),d.Lb(y),d.Lb(I.c),d.Lb(n.d))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-faq-view"]],decls:238,vars:11,consts:[[1,"section","faq"],[1,"faq__header"],[1,"line-divider"],[1,"faq__info"],[1,"text-link","faq__info-link",3,"href","click"],[1,"faq__categories"],[1,"faq__category"],[1,"faq__category-header-container"],[1,"btn","faq__category-header-btn",3,"click"],[1,"faq__category-header"],["id","faq__compatibility",1,"faq__category-info","faq__category-info--hidden"],["id","faq__compatibility-q-1",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],[1,"btn","faq__category-info-q-btn",3,"click"],[1,"faq__category-info-q"],[1,"faq__category-info-a-container","faq__category-info-a-container--hidden"],[1,"btn","faq__category-info-a-btn"],[1,"faq__category-info-a-p-container"],[1,"faq__category-info-a"],["id","faq__compatibility-q-2",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],["id","faq__compatibility-q-3",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],["id","faq__compatibility-q-4",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],["href","https://github.com/steinbergmedia/vst3sdk#about-vst-3","target","_blank",1,"text-link","faq__category-info-link"],["id","faq__installation",1,"faq__category-info","faq__category-info--hidden"],["id","faq__installation-q-1",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],[1,"text--caution"],[1,"text--caution-paragraph"],["id","faq__installation-q-2",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],[1,"text-link","faq__category-info-link",3,"href","click"],["id","faq__installation-q-3",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],["id","faq__purchasing",1,"faq__category-info","faq__category-info--hidden"],["id","faq__purchasing-q-1",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],[1,"text--note"],[1,"text--note-paragraph"],["id","faq__purchasing-q-2",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],[1,"faq__email-form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"faq__email-form-label","form-field-label","editor__form-field-label"],["formControlName","email","required","","autofocus",""],["aria-label","Submit email",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"],[4,"ngIf"],["id","faq__purchasing-q-3",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],["href","https://stripe.com/",1,"text-link","faq__category-info-link"],["id","faq__purchasing-q-4",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],["href","https://stripe.com/","target","_blank",1,"text-link","faq__category-info-link"],["href","https://stripe.com/payments/checkout","target","_blank",1,"text-link","faq__category-info-link"],["id","faq__troubleshooting",1,"faq__category-info","faq__category-info--hidden"],["id","faq__troubleshooting-q-1",1,"faq__category-info-q-container","faq__category-info-q-container--hidden"],[1,"btn-loader-container"],[1,"btn-loader"]],template:function(t,e){1&t&&(d.Qb(0,"div",0),d.Qb(1,"h1",1),d.vc(2,"Shop FAQ"),d.Pb(),d.Mb(3,"div",2),d.Qb(4,"p",3),d.vc(5," Thanks for visiting my shop and the FAQ page. If you can't find the answers to your questions as always I am available via "),d.Qb(6,"a",4),d.Xb("click",function(t){return e.obfuscationService.handleEmailClick(t)}),d.vc(7," email "),d.Pb(),d.vc(8," so please reach out. Cheers! "),d.Pb(),d.Qb(9,"div",5),d.Qb(10,"div",6),d.Qb(11,"div",7),d.Qb(12,"button",8),d.Xb("click",function(t){return e.toggleCategory("compatibility",t)}),d.vc(13," + "),d.Pb(),d.Qb(14,"p",9),d.vc(15,"Compatibility"),d.Pb(),d.Pb(),d.Qb(16,"div",10),d.Qb(17,"div",11),d.Qb(18,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__compatibility-q-1",t)}),d.vc(19," + "),d.Pb(),d.Qb(20,"p",13),d.vc(21," What operating systems do your plugins support? "),d.Pb(),d.Pb(),d.Qb(22,"div",14),d.Qb(23,"button",15),d.vc(24," + "),d.Pb(),d.Qb(25,"div",16),d.Qb(26,"p",17),d.vc(27," All of my plugins are currently supported on Windows 10 and MacOS (including Big Sur). "),d.Pb(),d.Pb(),d.Pb(),d.Qb(28,"div",18),d.Qb(29,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__compatibility-q-2",t)}),d.vc(30," + "),d.Pb(),d.Qb(31,"p",13),d.vc(32," What plugin formats do you support? "),d.Pb(),d.Pb(),d.Qb(33,"div",14),d.Qb(34,"button",15),d.vc(35," + "),d.Pb(),d.Qb(36,"div",16),d.Qb(37,"p",17),d.vc(38," I am currently supporting only VST3 and AU formats. I would like to support more such as VST and AAX but unfortunately do not at the moment (see more on that below). "),d.Pb(),d.Pb(),d.Pb(),d.Qb(39,"div",19),d.Qb(40,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__compatibility-q-3",t)}),d.vc(41," + "),d.Pb(),d.Qb(42,"p",13),d.vc(43," What about MacOS ARM processors? "),d.Pb(),d.Pb(),d.Qb(44,"div",14),d.Qb(45,"button",15),d.vc(46," + "),d.Pb(),d.Qb(47,"div",16),d.Qb(48,"p",17),d.vc(49," At the moment, I am regretfully unable to verify whether my plugins function properly and as intended on the Mac machines with ARM processors. Hopefully this will change in the future if I can get some testing done on one of those machines. "),d.Pb(),d.Pb(),d.Pb(),d.Qb(50,"div",20),d.Qb(51,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__compatibility-q-4",t)}),d.vc(52," + "),d.Pb(),d.Qb(53,"p",13),d.vc(54," Are your plugins available in the older VST format? "),d.Pb(),d.Pb(),d.Qb(55,"div",14),d.Qb(56,"button",15),d.vc(57," + "),d.Pb(),d.Qb(58,"div",16),d.Qb(59,"p",17),d.vc(60," No, unfortunately... Steinberg stopped allowing developers to release plugins using the older VST SDK unlease they had an already-existing product they were selling in that format. Not surprisingly though, VST3 has quite a few advantages over VST such as dynamic I/O, silence flagging, and more. Check out the "),d.Qb(61,"a",21),d.vc(62," README "),d.Pb(),d.vc(63," on Steinberg's VST3 GitHub repo to see more about the differences. "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(64,"div",6),d.Qb(65,"div",7),d.Qb(66,"button",8),d.Xb("click",function(t){return e.toggleCategory("installation",t)}),d.vc(67," + "),d.Pb(),d.Qb(68,"p",9),d.vc(69,"Installation"),d.Pb(),d.Pb(),d.Qb(70,"div",22),d.Qb(71,"div",23),d.Qb(72,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__installation-q-1",t)}),d.vc(73," + "),d.Pb(),d.Qb(74,"p",13),d.vc(75," How do install and use your plugins? "),d.Pb(),d.Pb(),d.Qb(76,"div",14),d.Qb(77,"button",15),d.vc(78," + "),d.Pb(),d.Qb(79,"div",16),d.Qb(80,"p",17),d.vc(81," I do not have an installer currently implemented for the plugins, so you will have to copy the plugin binaries from the downloads into the appopriate folder on your system. For usage, most downloads will have user manuals to help you out. "),d.Pb(),d.Qb(82,"p",17),d.vc(83," For MacOS, these directories are usually either "),d.Qb(84,"code"),d.vc(85,"/Library/Audio/Plug-Ins/VST3/"),d.Pb(),d.vc(86," or "),d.Qb(87,"code"),d.vc(88,"/Library/Audio/Plug-Ins/Components/"),d.Pb(),d.vc(89,". On Windows, this directory is "),d.Qb(90,"code"),d.vc(91,"C:\\Program Files\\Common Files\\VST3\\"),d.Pb(),d.vc(92,". "),d.Pb(),d.Qb(93,"p",17),d.Qb(94,"span",24),d.vc(95," CAUTION: "),d.Pb(),d.Qb(96,"span",25),d.vc(97," If your DAW is open while copying over the files, it is most likely that they won't be recognized until the DAW is closed and re-opened. "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(98,"div",26),d.Qb(99,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__installation-q-2",t)}),d.vc(100," + "),d.Pb(),d.Qb(101,"p",13),d.vc(102," I installed the plugin, but it isn't showing up in my DAW? "),d.Pb(),d.Pb(),d.Qb(103,"div",14),d.Qb(104,"button",15),d.vc(105," + "),d.Pb(),d.Qb(106,"div",16),d.Qb(107,"p",17),d.vc(108," If you installed it while the DAW was open, then sometimes it requires closing and re-opening the program for the new plugin files to be detected. I am not too familiar with most other DAWs besides Ableton, but like Ableton they may have an ability to re-scan the plugin folders somewhere in the preferences menu. "),d.Pb(),d.Qb(109,"p",17),d.vc(110," If none of that works, then send me an "),d.Qb(111,"a",27),d.Xb("click",function(t){return e.obfuscationService.handleEmailClick(t)}),d.vc(112," email "),d.Pb(),d.vc(113," and we can troubleshoot it together! "),d.Pb(),d.Pb(),d.Pb(),d.Qb(114,"div",28),d.Qb(115,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__installation-q-3",t)}),d.vc(116," + "),d.Pb(),d.Qb(117,"p",13),d.vc(118," How do I uninstall a plugin? "),d.Pb(),d.Pb(),d.Qb(119,"div",14),d.Qb(120,"button",15),d.vc(121," + "),d.Pb(),d.Qb(122,"div",16),d.Qb(123,"p",17),d.vc(124," Simply deleting the plugin binary file (.vst3 or .component) from the directory where you intially installed it should do the trick. "),d.Pb(),d.Qb(125,"p",17),d.vc(126," If there is an issue with the plugin, I would love to hear about it. Please send me an "),d.Qb(127,"a",27),d.Xb("click",function(t){return e.obfuscationService.handleEmailClick(t)}),d.vc(128," email "),d.Pb(),d.vc(129," with some details and I can start looking into how to make it better for you! "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(130,"div",6),d.Qb(131,"div",7),d.Qb(132,"button",8),d.Xb("click",function(t){return e.toggleCategory("purchasing",t)}),d.vc(133," + "),d.Pb(),d.Qb(134,"p",9),d.vc(135,"Purchasing"),d.Pb(),d.Pb(),d.Qb(136,"div",29),d.Qb(137,"div",30),d.Qb(138,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__purchasing-q-1",t)}),d.vc(139," + "),d.Pb(),d.Qb(140,"p",13),d.vc(141," Do I need an account to use your shop? "),d.Pb(),d.Pb(),d.Qb(142,"div",14),d.Qb(143,"button",15),d.vc(144," + "),d.Pb(),d.Qb(145,"div",16),d.Qb(146,"p",17),d.vc(147," Not at all! The only important piece of information I need from you is your email so that I can send you download URLs for products you purchase. I designed the shop to be pretty minimal in terms of customer interaction to make things easier for everyone! "),d.Pb(),d.Qb(148,"p",17),d.Qb(149,"span",31),d.vc(150," NOTE: "),d.Pb(),d.Qb(151,"span",32),d.vc(152," I will ONLY be sending emails either when you make a purchase or use the form below to get all of your downloads. I will NOT be spamming you with newsletters or anything like that. "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(153,"div",33),d.Qb(154,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__purchasing-q-2",t)}),d.vc(155," + "),d.Pb(),d.Qb(156,"div",16),d.Qb(157,"p",13),d.vc(158," How can I download products I've already purchased? "),d.Pb(),d.Pb(),d.Pb(),d.Qb(159,"div",14),d.Qb(160,"button",15),d.vc(161," + "),d.Pb(),d.Qb(162,"div",16),d.Qb(163,"p",17),d.vc(164," Please enter the following information to receive an email containing download URLs. "),d.Pb(),d.Qb(165,"form",34),d.Xb("ngSubmit",function(){return e.onEmailSubmit()}),d.Qb(166,"div",35),d.Qb(167,"label",36),d.vc(168,"Email"),d.Pb(),d.Mb(169,"br"),d.Mb(170,"br"),d.Mb(171,"input",37),d.Pb(),d.Qb(172,"button",38),d.tc(173,W,2,0,"ng-container",39),d.tc(174,G,3,0,"ng-container",39),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(175,"div",40),d.Qb(176,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__purchasing-q-3",t)}),d.vc(177," + "),d.Pb(),d.Qb(178,"div",16),d.Qb(179,"p",13),d.vc(180," What payment methods do you accept? "),d.Pb(),d.Pb(),d.Pb(),d.Qb(181,"div",14),d.Qb(182,"button",15),d.vc(183," + "),d.Pb(),d.Qb(184,"div",16),d.Qb(185,"p",17),d.vc(186," I currently am accepting card payments via the Stripe Checkout sessions, which allows for several major brand debit and credit cards. "),d.Pb(),d.Qb(187,"span",31),d.vc(188," NOTE: "),d.Pb(),d.Qb(189,"span",32),d.vc(190," Alternatively, I am open to accepting payment in cryptocurrencies (only IOTA, ETH, and BTC). I have no support for this built-in to the shop, so you will have to send me an "),d.Qb(191,"a",41),d.vc(192," email "),d.Pb(),d.vc(193,", so I can create the order manually. "),d.Pb(),d.Pb(),d.Pb(),d.Qb(194,"div",42),d.Qb(195,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__purchasing-q-4",t)}),d.vc(196," + "),d.Pb(),d.Qb(197,"div",16),d.Qb(198,"p",13),d.vc(199," How do I know that your handling payments securely? "),d.Pb(),d.Pb(),d.Pb(),d.Qb(200,"div",14),d.Qb(201,"button",15),d.vc(202," + "),d.Pb(),d.Qb(203,"div",16),d.Qb(204,"p",17),d.vc(205," I implemented "),d.Qb(206,"a",43),d.vc(207," Stripe "),d.Pb(),d.vc(208," (specifically "),d.Qb(209,"a",44),d.vc(210," Stripe Checkout "),d.Pb(),d.vc(211,") to handle the important details of the transaction and payment. This service is used abundantly across the internet for all sorts of ecommerce platforms, even including organizations like Google and Amazon. "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(212,"div",6),d.Qb(213,"div",7),d.Qb(214,"button",8),d.Xb("click",function(t){return e.toggleCategory("troubleshooting",t)}),d.vc(215," + "),d.Pb(),d.Qb(216,"p",9),d.vc(217,"Troubleshooting"),d.Pb(),d.Pb(),d.Qb(218,"div",45),d.Qb(219,"div",46),d.Qb(220,"button",12),d.Xb("click",function(t){return e.toggleAnswer("faq__troubleshooting-q-1",t)}),d.vc(221," + "),d.Pb(),d.Qb(222,"p",13),d.vc(223," I found a bug - how should I tell you? "),d.Pb(),d.Pb(),d.Qb(224,"div",14),d.Qb(225,"button",15),d.vc(226," + "),d.Pb(),d.Qb(227,"div",16),d.Qb(228,"p",17),d.vc(229," Please "),d.Qb(230,"a",27),d.Xb("click",function(t){return e.obfuscationService.handleEmailClick(t)}),d.vc(231," email "),d.Pb(),d.vc(232,' me with a bug report, and I will look into getting it fixed. If the project has a corresponding GitHub repository, then I will most likely create an offical "issue" on there, which you are more than welcome to checkout and follow! '),d.Pb(),d.Qb(233,"p",17),d.Qb(234,"span",31),d.vc(235," NOTE: "),d.Pb(),d.Qb(236,"span",32),d.vc(237," If you are able to find the product's repository, feel free to open an issue there yourself! "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&t&&(d.Bb(6),d.ec("href","mailto:"+e.obfuscationService.constructEmail(),d.oc),d.Bb(105),d.ec("href","mailto:"+e.obfuscationService.constructEmail(),d.oc),d.Bb(16),d.ec("href","mailto:"+e.obfuscationService.constructEmail(),d.oc),d.Bb(38),d.ec("formGroup",e.emailForm),d.Bb(7),d.ec("ngClass",d.gc(9,J,!e.emailForm.valid))("disabled",!e.emailForm.valid),d.Bb(1),d.ec("ngIf",!e.isSubmittingEmail),d.Bb(1),d.ec("ngIf",e.isSubmittingEmail),d.Bb(56),d.ec("href","mailto:"+e.obfuscationService.constructEmail(),d.oc))},directives:[n.q,n.k,n.f,n.b,n.j,n.e,n.o,i.h,i.j],styles:[".faq[_ngcontent-%COMP%]{min-height:calc(99vh - 8vh - 6vh * 1 - 15vh)}.faq__header[_ngcontent-%COMP%]{text-align:center}.faq__category[_ngcontent-%COMP%], .faq__info[_ngcontent-%COMP%]{margin-bottom:2rem}.faq__category-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.faq__category-header-container[_ngcontent-%COMP%]   .faq__category-header-btn[_ngcontent-%COMP%]{align-self:center}.faq__category-header-container[_ngcontent-%COMP%]   .faq__category-header[_ngcontent-%COMP%]{align-self:center;font-size:150%;font-weight:700;margin-bottom:1rem}.faq__category-info[_ngcontent-%COMP%]{align-content:center;flex-direction:column;margin:0 2rem;height:auto}.faq__category-info--show[_ngcontent-%COMP%]{display:flex}.faq__category-info--hidden[_ngcontent-%COMP%]{display:none}.faq__category-info-q-container[_ngcontent-%COMP%]{min-height:2rem}.faq__category-info-q-container[_ngcontent-%COMP%]{height:auto;align-content:center;display:flex;flex-direction:row;margin-bottom:1rem}.faq__category-info-q-container--show[_ngcontent-%COMP%] + .faq__category-info-a-container[_ngcontent-%COMP%]{display:flex}.faq__category-info-q-container--hidden[_ngcontent-%COMP%] + .faq__category-info-a-container[_ngcontent-%COMP%]{display:none}.faq__category-info-q-container[_ngcontent-%COMP%]   .faq__category-info-q[_ngcontent-%COMP%]{color:#fcfdff;min-height:2rem}.faq__category-info-a-container[_ngcontent-%COMP%]{height:auto;align-content:center;display:flex;flex-direction:row;margin-bottom:2rem}.faq__category-info-a-container[_ngcontent-%COMP%]   .faq__category-info-a-btn[_ngcontent-%COMP%]{opacity:0}.faq__category-info-a-container[_ngcontent-%COMP%]   .faq__category-info-a-p-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}.faq__category-info-a-container[_ngcontent-%COMP%]   .faq__category-info-a[_ngcontent-%COMP%]{color:#fcfdff}.faq__category-header-btn[_ngcontent-%COMP%]{margin-right:1rem}.faq__category-header-btn[_ngcontent-%COMP%], .faq__category-info-a-btn[_ngcontent-%COMP%], .faq__category-info-q-btn[_ngcontent-%COMP%]{border:none;font-size:120%;max-height:2rem;min-width:calc(.5 * 64px);transform:translateY(-.25rem)}.faq__category-info-a-btn[_ngcontent-%COMP%], .faq__category-info-q-btn[_ngcontent-%COMP%]{margin:0 .5rem}.faq__email-form[_ngcontent-%COMP%]{margin-top:2rem}.faq__email-form[_ngcontent-%COMP%]   .faq__email-form-label[_ngcontent-%COMP%]{font-size:110%}  code{background-color:#4e5d74;box-sizing:border-box;color:#fcfdff;margin:0 calc(.5rem / 2);padding:calc(.5rem / 4) calc(.5rem / 2)}  .text--note{color:#aec6f1}  .text--note-paragraph{color:#e1edff}  .text--caution{color:#ffe7a0}  .text--caution-paragraph{color:#ffefd3}  .text--warn{color:#ffa0b6}  .text--warn-paragraph{color:#ffd6dc}  .text--tip{color:#9bec8f}  .text--tip-paragraph{color:#d7ffd5}@media only screen and (min-width:768px){.faq[_ngcontent-%COMP%]{min-height:calc(100vh - 8vh - 6vh * 2 - 15vh)}.faq__category-info[_ngcontent-%COMP%]{margin:0 2rem}.faq__category-header-btn[_ngcontent-%COMP%]{margin-right:2rem}.faq__category-info-a-btn[_ngcontent-%COMP%], .faq__category-info-q-btn[_ngcontent-%COMP%]{margin:0 1rem 0 2rem}.faq__category-header-btn[_ngcontent-%COMP%], .faq__category-info-a-btn[_ngcontent-%COMP%], .faq__category-info-q-btn[_ngcontent-%COMP%]{min-width:64px}}"],changeDetection:0}),t})();var Y=o("N24m");function Z(t,e){if(1&t&&(d.Ob(0),d.vc(1),d.Nb()),2&t){const t=d.bc().$implicit,e=d.bc(2);d.Bb(1),d.xc(" ",t.amount<=0?"FREE":"$ "+e.formatAmount(t.amount)," ")}}function tt(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",19),d.Mb(2,"div",20),d.Pb(),d.Nb())}function et(t,e){if(1&t){const t=d.Rb();d.Ob(0),d.Qb(1,"button",21),d.Xb("click",function(){d.mc(t);const e=d.bc().$implicit;return d.bc(2).sendProductToEditor(e)}),d.vc(2," \u270f "),d.Pb(),d.Qb(3,"button",22),d.Xb("click",function(){d.mc(t);const e=d.bc().$implicit;return d.bc(2).deleteProduct(e.id)}),d.vc(4," \u2715 "),d.Pb(),d.Nb()}}function ot(t,e){1&t&&d.Mb(0,"div",4)}const it=function(t,e){return{"products__product-buy-btn--compress":t,"btn--loading":e}};function nt(t,e){if(1&t){const t=d.Rb();d.Ob(0),d.Qb(1,"div",7),d.Qb(2,"h3",8),d.vc(3),d.Pb(),d.Qb(4,"div",9),d.Qb(5,"picture"),d.Mb(6,"source",10),d.Mb(7,"source",11),d.Mb(8,"img",12),d.Pb(),d.Pb(),d.Qb(9,"p",13),d.vc(10),d.Pb(),d.Qb(11,"p",14),d.Mb(12,"markdown",15),d.Pb(),d.Qb(13,"a",16),d.Xb("click",function(){d.mc(t);const o=e.$implicit;return d.bc(2).startCheckout(o)}),d.tc(14,Z,2,1,"ng-container",17),d.tc(15,tt,3,0,"ng-container",17),d.Pb(),d.tc(16,et,5,0,"ng-container",17),d.Pb(),d.tc(17,ot,1,0,"div",18),d.Nb()}if(2&t){const t=e.$implicit,o=e.index,i=d.bc(2);d.Bb(3),d.wc(t.name),d.Bb(3),d.ec("srcset",i.fileService.getImageUri(t.image_url,"webp"),d.oc),d.Bb(1),d.ec("srcset",i.fileService.getImageUri(t.image_url,"png"),d.oc),d.Bb(1),d.ec("alt",t.name+" thumbnail")("src",i.fileService.getImageUri(t.image_url,"png"),d.oc),d.Bb(2),d.wc(t.preview),d.Bb(2),d.ec("data",t.description),d.Bb(1),d.ec("ngClass",d.hc(12,it,i.isAdmin,i.isStartingCheckout&&t.id===i.checkoutProductId)),d.Bb(1),d.ec("ngIf",!(i.isStartingCheckout&&t.id===i.checkoutProductId)),d.Bb(1),d.ec("ngIf",i.isStartingCheckout&&t.id===i.checkoutProductId),d.Bb(1),d.ec("ngIf",i.isAdmin),d.Bb(1),d.ec("ngIf",o!==i.products.length-1)}}function rt(t,e){if(1&t&&(d.Qb(0,"div",2),d.Qb(1,"h2",3),d.vc(2,"Products"),d.Pb(),d.Mb(3,"div",4),d.Qb(4,"div",5),d.tc(5,nt,18,15,"ng-container",6),d.Pb(),d.Pb()),2&t){const t=d.bc();d.Bb(5),d.ec("ngForOf",t.products)("ngForTrackBy",t.trackingService.objectById)}}let ct=(()=>{class t{constructor(t,e,o,i,n,r,c,a,s){this.authService=t,this.fileService=e,this.notificationService=o,this.seoService=i,this.shopApiService=n,this.shopCheckoutService=r,this.shopEditorService=c,this.trackingService=a,this.router=s,this.baseRoute="shop/products",this.isAdmin=!1,this.isStartingCheckout=!1,this.checkoutProductId=-1,this.modalId="shop-checkout-modal",this.timeoutFn=()=>{this.isStartingCheckout&&(this.isStartingCheckout=!1,this.notificationService.createNotification("Sorry, unable to initialize Stripe Checkout. Please refresh and try again.","",3600))}}ngOnInit(){this.isAdmin=this.authService.isLoggedIn()}getProductUrl(t,e){return`${this.baseRoute}/${this.seoService.getCanonicalUrl(t,e)}`}showDialog(){let t=document.getElementById(this.modalId);t.classList.remove("init"),t.classList.remove("hidden"),t.classList.add("show")}sendProductToEditor(t){this.shopEditorService.setProduct(t)}deleteProduct(t){this.notificationService.deleteConfirmation("shop product")&&this.shopApiService.deleteProduct(t,!1).subscribe(e=>{this.products=this.products.filter(e=>e.id!==t),this.notificationService.createNotification("Successfully deleted shop product!")},t=>{this.notificationService.createNotification(t.error.message)})}formatAmount(t){return Number(t).toFixed(2)}startCheckout(t){t.status.id==l.AVAILABLE?(this.checkoutProductId=t.id,t.amount<=0?this.showDialog():(this.isStartingCheckout=!0,this.shopCheckoutService.goToCheckout(t).subscribe(t=>{this.isStartingCheckout=!1},t=>{this.notificationService.createNotification(t.error.message),this.isStartingCheckout=!1}),setTimeout(this.timeoutFn,1e4))):this.notificationService.createNotification(`Sorry, unable to buy product because it is ${t.status.status.toLowerCase()}.`,"",3600)}startFreeCheckout(t){-1!=this.checkoutProductId&&(this.shopCheckoutService.setCustomer(t),this.router.navigate(["shop/checkout"],{queryParams:{success:"true",productId:this.checkoutProductId,isFreeProduct:"true"}}))}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(f.c),d.Lb(Y.a),d.Lb(m.c),d.Lb(m.e),d.Lb(y),d.Lb(k),d.Lb(q),d.Lb(m.f),d.Lb(s.b))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-product-collection"]],inputs:{products:"products",baseRoute:"baseRoute"},decls:2,vars:2,consts:[["class","section products",4,"ngIf"],[3,"modalId","modalEvent"],[1,"section","products"],[1,"products__header"],[1,"line-divider"],[1,"container","products__product-container"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"products__product"],[1,"products__product-header"],[1,"products__product-image-container"],["type","image/webp",3,"srcset"],["type","image/png",3,"srcset"],[1,"products__product-image",3,"alt","src"],[1,"products__product-preview"],[1,"products__product-description"],[3,"data"],[1,"btn","btn--go","products__product-buy-btn",3,"ngClass","click"],[4,"ngIf"],["class","line-divider",4,"ngIf"],[1,"btn-loader-container"],[1,"btn-loader--go"],["aria-label","Edit shop product","routerLink","/shop/products/editor",1,"btn","products__product-add-btn",3,"click"],["aria-label","Delete shop product","type","button",1,"btn","btn--warn","products__product-delete-btn",3,"click"]],template:function(t,e){1&t&&(d.tc(0,rt,6,2,"div",0),d.Qb(1,"ui-shop-checkout-modal",1),d.Xb("modalEvent",function(t){return e.startFreeCheckout(t)}),d.Pb()),2&t&&(d.ec("ngIf",e.products),d.Bb(1),d.ec("modalId",e.modalId))},directives:[i.j,V,i.i,r.a,i.h,s.c],styles:["markdown[_ngcontent-%COMP%]     h1, markdown[_ngcontent-%COMP%]     h2, markdown[_ngcontent-%COMP%]     h3, markdown[_ngcontent-%COMP%]     h4, markdown[_ngcontent-%COMP%]     h5, markdown[_ngcontent-%COMP%]     h6{margin:calc(2rem * 1.75) 0 calc(2rem * .75)}markdown[_ngcontent-%COMP%]     img, markdown[_ngcontent-%COMP%]     p{margin:2rem 0}markdown[_ngcontent-%COMP%]     pre{margin:calc(1rem * 1) 0 calc(1rem * 1.5)}markdown[_ngcontent-%COMP%]     a{color:#aec6f1;display:inline-block}markdown[_ngcontent-%COMP%]     div img{box-sizing:border-box}markdown[_ngcontent-%COMP%]     div img, markdown[_ngcontent-%COMP%]     img{border:1px solid #000;text-align:center;width:100%}markdown[_ngcontent-%COMP%]     img{height:auto}markdown[_ngcontent-%COMP%]     p code{background-color:#4e5d74;box-sizing:border-box;color:#fcfdff;margin:0 calc(.5rem / 2);padding:calc(.5rem / 4) calc(.5rem / 2)}markdown[_ngcontent-%COMP%]     .text--note{color:#aec6f1}markdown[_ngcontent-%COMP%]     .text--note-paragraph{color:#e1edff}markdown[_ngcontent-%COMP%]     .text--caution{color:#ffe7a0}markdown[_ngcontent-%COMP%]     .text--caution-paragraph{color:#ffefd3}markdown[_ngcontent-%COMP%]     .text--warn{color:#ffa0b6}markdown[_ngcontent-%COMP%]     .text--warn-paragraph{color:#ffd6dc}markdown[_ngcontent-%COMP%]     .text--tip{color:#9bec8f}markdown[_ngcontent-%COMP%]     .text--tip-paragraph{color:#d7ffd5}markdown[_ngcontent-%COMP%]     li{line-height:1.5rem;margin-bottom:.5rem}@media only screen and (min-width:768px){markdown[_ngcontent-%COMP%]     a:hover{text-decoration:underline}markdown[_ngcontent-%COMP%]     img{width:64%}}.products[_ngcontent-%COMP%]{min-height:calc(41vh + 1px)}.products__product-container[_ngcontent-%COMP%]   .line-divider[_ngcontent-%COMP%]{opacity:.2;margin:1rem 0 .5rem}.products__product[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;margin:0}.products__product[_ngcontent-%COMP%]   .products__product-description[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-header[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-image-container[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-preview[_ngcontent-%COMP%]{grid-column:1/3}.products__product[_ngcontent-%COMP%]   .products__product-buy-btn[_ngcontent-%COMP%]{align-self:center;text-align:center}.products__product[_ngcontent-%COMP%]   .products__product-header[_ngcontent-%COMP%]{font-size:120%;grid-row:2/3;margin-bottom:1rem}.products__product[_ngcontent-%COMP%]   .products__product-preview[_ngcontent-%COMP%]{color:#acb5c7;font-style:italic;grid-row:3/4;margin-bottom:1rem}.products__product[_ngcontent-%COMP%]   .products__product-description[_ngcontent-%COMP%]{font-size:90%;grid-row:4/5;margin-bottom:.5rem}.products__product[_ngcontent-%COMP%]   .products__product-buy-btn[_ngcontent-%COMP%]{grid-column:1/3;height:48px;line-height:48px;width:calc(.7 * 176px)}.products__product[_ngcontent-%COMP%]   .products__product-buy-btn--compress[_ngcontent-%COMP%]{justify-self:center}.products__product[_ngcontent-%COMP%]   .products__product-image-container[_ngcontent-%COMP%]{grid-row:1/2;justify-self:center;margin-bottom:1rem}.products__product[_ngcontent-%COMP%]   .products__product-image-container[_ngcontent-%COMP%]   .products__product-image[_ngcontent-%COMP%]{border:1px solid #000;height:auto;width:100%;max-width:24rem}.products__product[_ngcontent-%COMP%]   .products__product-add-btn[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-delete-btn[_ngcontent-%COMP%]{align-self:center;height:48px;font-size:120%;justify-self:center;width:calc(.7 * 176px)}.products__product[_ngcontent-%COMP%]   .products__product-add-btn[_ngcontent-%COMP%]{grid-column:1/2}.products__product[_ngcontent-%COMP%]   .products__product-delete-btn[_ngcontent-%COMP%]{grid-column:2/3}@media only screen and (min-width:1290px){.products__product-container[_ngcontent-%COMP%]   .line-divider[_ngcontent-%COMP%]{opacity:.2;margin:0}.products__product[_ngcontent-%COMP%]{grid-template-columns:15rem auto 5rem;grid-template-rows:2rem 3rem auto;margin:2rem 0}.products__product[_ngcontent-%COMP%]   .products__product-description[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-header[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-preview[_ngcontent-%COMP%]{align-self:center;grid-column:2/3;padding:.5rem;margin:0}.products__product[_ngcontent-%COMP%]   .products__product-image-container[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/4;margin:auto 0}.products__product[_ngcontent-%COMP%]   .products__product-header[_ngcontent-%COMP%]{grid-row:1/2}.products__product[_ngcontent-%COMP%]   .products__product-preview[_ngcontent-%COMP%]{grid-row:2/3}.products__product[_ngcontent-%COMP%]   .products__product-description[_ngcontent-%COMP%]{grid-row:3/4}.products__product[_ngcontent-%COMP%]   .products__product-add-btn[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-buy-btn[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-delete-btn[_ngcontent-%COMP%]{grid-column:3/4;justify-self:flex-start}.products__product[_ngcontent-%COMP%]   .products__product-buy-btn[_ngcontent-%COMP%], .products__product[_ngcontent-%COMP%]   .products__product-buy-btn--compress[_ngcontent-%COMP%]{grid-row:1/2}.products__product[_ngcontent-%COMP%]   .products__product-add-btn[_ngcontent-%COMP%]{grid-row:2/3}.products__product[_ngcontent-%COMP%]   .products__product-delete-btn[_ngcontent-%COMP%]{grid-row:3/4}.products__product[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:calc(.6 * 176px)}}"],changeDetection:0}),t})();var at=o("QibW");function st(t,e){if(1&t&&(d.Qb(0,"mat-radio-button",20),d.vc(1),d.Pb()),2&t){const t=e.$implicit;d.ec("value",t.status),d.Bb(1),d.wc(t.status)}}function dt(t,e){if(1&t&&(d.Qb(0,"mat-radio-button",20),d.vc(1),d.Pb()),2&t){const t=e.$implicit;d.ec("value",t.name),d.Bb(1),d.wc(t.name)}}function ut(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",21),d.Mb(2,"div",22),d.Pb(),d.Nb())}function bt(t,e){1&t&&(d.Ob(0),d.vc(1," Submit "),d.Nb())}const lt=function(t,e){return{"btn-loading":t,"btn--inactive":e}};function ht(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",2),d.Qb(1,"h1",3),d.vc(2,"Shop Product Editor"),d.Pb(),d.Mb(3,"div",4),d.Qb(4,"form",5),d.Xb("ngSubmit",function(){return d.mc(t),d.bc().onSubmit()}),d.Qb(5,"div",6),d.Qb(6,"label",7),d.vc(7,"Name"),d.Pb(),d.Mb(8,"br"),d.Mb(9,"br"),d.Mb(10,"input",8),d.Pb(),d.Qb(11,"div",6),d.Qb(12,"label",7),d.vc(13,"Filename"),d.Pb(),d.Mb(14,"br"),d.Mb(15,"br"),d.Mb(16,"input",9),d.Pb(),d.Qb(17,"div",6),d.Qb(18,"label",7),d.vc(19,"Status"),d.Pb(),d.Mb(20,"br"),d.Mb(21,"br"),d.Qb(22,"mat-radio-group",10),d.tc(23,st,2,2,"mat-radio-button",11),d.Pb(),d.Pb(),d.Qb(24,"div",6),d.Qb(25,"label",7),d.vc(26,"Category"),d.Pb(),d.Mb(27,"br"),d.Mb(28,"br"),d.Qb(29,"mat-radio-group",12),d.tc(30,dt,2,2,"mat-radio-button",11),d.Pb(),d.Pb(),d.Qb(31,"div",6),d.Qb(32,"label",7),d.vc(33,"Amount (USD)"),d.Pb(),d.Mb(34,"br"),d.Mb(35,"br"),d.Mb(36,"input",13),d.Pb(),d.Qb(37,"div",14),d.Qb(38,"label",7),d.vc(39,"Preview"),d.Pb(),d.Mb(40,"br"),d.Mb(41,"br"),d.Mb(42,"input",15),d.Pb(),d.Qb(43,"div",14),d.Qb(44,"label",7),d.vc(45,"Description"),d.Pb(),d.Mb(46,"br"),d.Mb(47,"br"),d.Mb(48,"textarea",16),d.Pb(),d.Qb(49,"div",6),d.Qb(50,"label",7),d.vc(51,"Image URL"),d.Pb(),d.Mb(52,"br"),d.Mb(53,"br"),d.Mb(54,"input",17),d.Pb(),d.Qb(55,"button",18),d.tc(56,ut,3,0,"ng-container",19),d.tc(57,bt,2,0,"ng-container",19),d.Pb(),d.Pb(),d.Pb()}if(2&t){const t=d.bc();d.Bb(4),d.ec("formGroup",t.productForm),d.Bb(19),d.ec("ngForOf",t.productStatusData)("ngForTrackBy",t.trackingService.objectById),d.Bb(7),d.ec("ngForOf",t.categoryData)("ngForTrackBy",t.trackingService.objectById),d.Bb(25),d.ec("ngClass",d.hc(9,lt,t.isSubmittingForm,!t.productForm.valid))("disabled",!t.productForm.valid),d.Bb(1),d.ec("ngIf",t.isSubmittingForm),d.Bb(1),d.ec("ngIf",!t.isSubmittingForm)}}function gt(t,e){1&t&&d.Mb(0,"ui-loading-spinner")}let pt=(()=>{class t{constructor(t,e,o,i,n,r,c,a,s,d){this.authService=t,this.notificationService=e,this.shopApiService=o,this.shopComparisonService=i,this.shopEditorService=n,this.titleService=r,this.trackingService=c,this.validationService=a,this.formBuilder=s,this.router=d,this.isLoaded=!1,this.isSubmittingForm=!1}ngOnInit(){this.titleService.setTitle("Shop Product Editor | Matthew Maxwell"),this.checkForAdmin(),this.setPageHideEvent(),this.initProductForm()}ngOnDestroy(){this.shopEditorService.setProduct(null)}checkForAdmin(){this.authService.isLoggedIn()||this.router.navigate([""])}setPageHideEvent(){window.onpagehide=()=>{this.shopEditorService.setProduct(null)}}initProductForm(){this.loadProductData(),this.loadProductStatusData(),this.loadCategoryData(),this.buildProductForm()}loadProductData(){this.productData=this.shopEditorService.getProduct()}loadProductStatusData(){this.shopApiService.getProductStatuses().subscribe(t=>{this.productStatusData=t.sort(this.shopComparisonService.productStatuses)})}loadCategoryData(){this.shopApiService.getCategories().subscribe(t=>{this.categoryData=t.sort(this.shopComparisonService.categories),this.isLoaded=!0})}buildProductForm(){const t=!this.shopEditorService.hasProduct();this.productForm=this.formBuilder.group({name:this.formBuilder.control(t?"":this.productData.name,[n.p.required,n.p.maxLength(50)]),filename:this.formBuilder.control(t?"":this.productData.filename,[n.p.required]),category:this.formBuilder.control(t?"":this.productData.category.name,[n.p.required]),status:this.formBuilder.control(t?l.AVAILABLE:this.productData.status.status,[n.p.required]),amount:this.formBuilder.control(t?"":this.productData.amount,[n.p.required,n.p.pattern(/^(?![.,])\d*[.,]?\d{0,2}$/)]),preview:this.formBuilder.control(t?"":this.productData.preview,[n.p.required]),description:this.formBuilder.control(t?"":this.productData.description,[n.p.required]),image_url:this.formBuilder.control(t?"":this.productData.image_url,[n.p.required])})}onSubmit(){this.isSubmittingForm=!0;const t=this.buildProduct();void 0===t.id?this.shopApiService.createProduct(t).subscribe(t=>{this.isSubmittingForm=!1,this.notificationService.createNotification("Successfully created new shop product!"),this.router.navigate(["shop"])}):this.shopApiService.updateProduct(t).subscribe(t=>{this.isSubmittingForm=!1,this.notificationService.createNotification("Successfully updated existing shop product!"),this.router.navigate(["shop"])})}buildProduct(){const t=this.productForm.value,e=this.buildCategory(),o=this.buildProductStatus();return new h(Object.assign(Object.assign({},t),{id:this.productData?this.productData.id:void 0,amount:Number(t.amount),status:o,category:e}))}buildCategory(){return this.categoryData.find(t=>t.name===this.productForm.value.category)}buildProductStatus(){return this.productStatusData.find(t=>t.status===this.productForm.value.status)}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(f.c),d.Lb(m.c),d.Lb(y),d.Lb(Q),d.Lb(q),d.Lb(I.c),d.Lb(m.f),d.Lb(m.g),d.Lb(n.d),d.Lb(s.b))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-product-editor"]],decls:3,vars:2,consts:[["class","section editor",4,"ngIf","ngIfElse"],["loading",""],[1,"section","editor"],[1,"editor__header"],[1,"line-divider"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","name","required","","autofocus",""],["formControlName","filename","required","","autofocus",""],["formControlName","status","name","status","required",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","category","name","category","required",""],["formControlName","amount","required",""],[1,"form-field","form-field--large","editor__form-field"],["formControlName","preview","required",""],["formControlName","description","required",""],["formControlName","image_url","required",""],["aria-label","Submit project",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"],[4,"ngIf"],[3,"value"],[1,"btn-loader-container"],[1,"btn-loader"]],template:function(t,e){if(1&t&&(d.tc(0,ht,58,12,"div",0),d.tc(1,gt,1,0,"ng-template",null,1,d.uc)),2&t){const t=d.kc(2);d.ec("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[i.j,n.q,n.k,n.f,n.b,n.j,n.e,n.o,at.b,i.i,i.h,at.a,x.a],encapsulation:2}),t})();function ft(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",20),d.Mb(2,"div",21),d.Pb(),d.Nb())}function mt(t,e){1&t&&(d.Ob(0),d.vc(1," All "),d.Nb())}function _t(t,e){1&t&&(d.Ob(0),d.Qb(1,"button",22),d.vc(2," + "),d.Pb(),d.Nb())}function vt(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",20),d.Mb(2,"div",21),d.Pb(),d.Nb())}function Pt(t,e){if(1&t&&(d.Ob(0),d.vc(1),d.Nb()),2&t){const t=d.bc().$implicit;d.Bb(1),d.xc(" ",t.name," ")}}function yt(t,e){if(1&t){const t=d.Rb();d.Ob(0),d.Qb(1,"button",25),d.Xb("click",function(){d.mc(t);const e=d.bc().$implicit;return d.bc(2).sendCategoryToEditor(e)}),d.vc(2," \u270f "),d.Pb(),d.Qb(3,"button",26),d.Xb("click",function(){d.mc(t);const e=d.bc().$implicit;return d.bc(2).deleteCategory(e)}),d.vc(4," \u2715 "),d.Pb(),d.Nb()}}const Ct=function(t,e,o){return{"btn-loading":t,"btn--active":e,"shop__filter-btn--half":o}};function St(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",23),d.Qb(1,"button",24),d.Xb("click",function(){d.mc(t);const o=e.$implicit;return d.bc(2).filterProductsByCategory(o.id)}),d.tc(2,vt,3,0,"ng-container",11),d.tc(3,Pt,2,1,"ng-container",11),d.Pb(),d.tc(4,yt,5,0,"ng-container",11),d.Pb()}if(2&t){const t=e.$implicit,o=d.bc(2);d.Bb(1),d.ec("ngClass",d.ic(4,Ct,o.isLoadingByCategory&&t.id===o.activeCategoryId,t.id===o.activeCategoryId,o.isAdmin)),d.Bb(1),d.ec("ngIf",o.isLoadingByCategory&&t.id===o.activeCategoryId),d.Bb(1),d.ec("ngIf",!(o.isLoadingByCategory&&t.id===o.activeCategoryId)),d.Bb(1),d.ec("ngIf",o.isAdmin)}}function wt(t,e){1&t&&(d.Ob(0),d.Qb(1,"div",20),d.Mb(2,"div",21),d.Pb(),d.Nb())}function Mt(t,e){if(1&t&&(d.Ob(0),d.vc(1),d.Nb()),2&t){const t=d.bc().$implicit;d.Bb(1),d.xc(" ",t.status," ")}}const Ot=function(t,e){return{"btn-loading":t,"btn--active":e}};function kt(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",23),d.Qb(1,"button",28),d.Xb("click",function(){d.mc(t);const o=e.$implicit;return d.bc(3).loadProductsByStatus(o.id)}),d.tc(2,wt,3,0,"ng-container",11),d.tc(3,Mt,2,1,"ng-container",11),d.Pb(),d.Pb()}if(2&t){const t=e.$implicit,o=d.bc(3);d.Bb(1),d.ec("ngClass",d.hc(3,Ot,o.isLoadingByStatus&&t.id===o.activeStatusId,t.id===o.activeStatusId)),d.Bb(1),d.ec("ngIf",o.isLoadingByStatus&&t.id===o.activeStatusId),d.Bb(1),d.ec("ngIf",!(o.isLoadingByStatus&&t.id===o.activeStatusId))}}function Qt(t,e){if(1&t&&(d.Qb(0,"div",27),d.Qb(1,"h2",6),d.vc(2,"Statuses"),d.Pb(),d.Mb(3,"div",7),d.Qb(4,"div",8),d.tc(5,kt,4,6,"div",12),d.Pb(),d.Pb()),2&t){const t=d.bc(2);d.Bb(5),d.ec("ngForOf",t.statuses)("ngForTrackBy",t.trackingService.objectById)}}function qt(t,e){if(1&t){const t=d.Rb();d.Qb(0,"div",2),d.Qb(1,"h1",3),d.vc(2,"Welcome to my shop!"),d.Pb(),d.Qb(3,"div",4),d.Qb(4,"div",5),d.Qb(5,"h2",6),d.vc(6,"Categories"),d.Pb(),d.Mb(7,"div",7),d.Qb(8,"div",8),d.Qb(9,"div",9),d.Qb(10,"button",10),d.Xb("click",function(){return d.mc(t),d.bc().filterProductsByCategory(-1)}),d.tc(11,ft,3,0,"ng-container",11),d.tc(12,mt,2,0,"ng-container",11),d.Pb(),d.tc(13,_t,3,0,"ng-container",11),d.Pb(),d.tc(14,St,5,8,"div",12),d.Pb(),d.Pb(),d.tc(15,Qt,6,2,"div",13),d.Qb(16,"div",14),d.Qb(17,"h2",15),d.vc(18,"Resources"),d.Pb(),d.Mb(19,"div",7),d.Qb(20,"div",16),d.Qb(21,"div",17),d.Qb(22,"a",18),d.vc(23," Shop FAQ "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Mb(24,"ui-shop-product-collection",19),d.Pb()}if(2&t){const t=d.bc();d.Bb(10),d.ec("ngClass",d.ic(8,Ct,t.isLoadingByCategory&&-1===t.activeCategoryId,-1===t.activeCategoryId,t.isAdmin)),d.Bb(1),d.ec("ngIf",t.isLoadingByCategory&&-1===t.activeCategoryId),d.Bb(1),d.ec("ngIf",!(t.isLoadingByCategory&&-1===t.activeCategoryId)),d.Bb(1),d.ec("ngIf",t.isAdmin),d.Bb(1),d.ec("ngForOf",t.categories)("ngForTrackBy",t.trackingService.objectById),d.Bb(1),d.ec("ngIf",t.isAdmin),d.Bb(9),d.ec("products",t.products)}}function It(t,e){1&t&&d.Mb(0,"ui-loading-spinner")}const Lt=[{path:"",component:u,children:[{path:"",component:(()=>{class t{constructor(t,e,o,i,n,r,c,a,s){this.router=t,this.authService=e,this.notificationService=o,this.shopApiService=i,this.shopCategoryService=n,this.shopComparisonService=r,this.shopEditorService=c,this.titleService=a,this.trackingService=s,this.isAdmin=!1,this.isLoaded=!1,this.activeCategoryId=-1,this.activeStatusId=l.AVAILABLE,this.isLoadingByCategory=!1,this.isLoadingByStatus=!1}ngOnInit(){this.titleService.setTitle("Digital Audio Shop | Matthew Maxwell"),this.isAdmin=this.authService.isLoggedIn(),this.shopApiService.getProducts(l.AVAILABLE).subscribe(t=>{this.products=t.sort(this.shopComparisonService.products),this.isAdmin?(this.shopApiService.getCategories().subscribe(t=>{this.categories=t.sort(this.shopComparisonService.categories)}),this.shopApiService.getProductStatuses().subscribe(t=>{this.statuses=t.filter(t=>"REMOVED"!==t.status)})):this.categories=this.getCategoriesFromProducts(),this.shopCategoryService.hasActiveCategory()&&(this.activeCategoryId=this.shopCategoryService.getActiveCategoryId()),this.isLoaded=!0},t=>{this.notificationService.createNotification(t.error.message),this.router.navigate([""])})}getCategoriesFromProducts(){let t=new Map;return this.products.forEach((e,o,i)=>{t.has(e.category.name)||t.set(e.category.name,e.category)}),Array.from(t.values()).sort(this.shopComparisonService.categories)}filterProductsByCategory(t){const e=this.activeCategoryId;this.activeCategoryId=t,this.isLoadingByCategory=!0,this.shopApiService.getProducts(this.activeStatusId.toString(),this.activeCategoryId.toString()).subscribe(t=>{this.products=t,this.isLoadingByCategory=!1},t=>{this.notificationService.createNotification(t.error.message),this.isLoadingByCategory=!1,this.activeCategoryId=e})}loadProductsByStatus(t){const e=this.activeStatusId;this.activeStatusId=t,this.isLoadingByStatus=!0,this.shopApiService.getProducts(this.activeStatusId.toString(),"").subscribe(t=>{t.length<1?this.notificationService.createNotification("No shop products contain this status."):(this.products=t.sort(this.shopComparisonService.products),this.activeCategoryId=-1,this.isLoadingByStatus=!1)},t=>{this.notificationService.createNotification(t.error.message),this.activeStatusId=e,this.isLoadingByStatus=!1})}sendCategoryToEditor(t){const e=this.products.filter((e,o,i)=>e.category.id===t.id);this.shopEditorService.setCategory(new g(Object.assign(Object.assign({},t),{products:e})))}deleteCategory(t){this.notificationService.deleteConfirmation("shop category")&&this.shopApiService.deleteCategory(t.id).subscribe(e=>{this.categories=this.categories.filter(e=>e.id!==t.id),this.notificationService.createNotification("Successfully deleted shop category!")},t=>{this.notificationService.createNotification(t.error.message,"",3600)})}}return t.\u0275fac=function(e){return new(e||t)(d.Lb(s.b),d.Lb(f.c),d.Lb(m.c),d.Lb(y),d.Lb(C),d.Lb(Q),d.Lb(q),d.Lb(I.c),d.Lb(m.f))},t.\u0275cmp=d.Fb({type:t,selectors:[["ui-shop-view"]],decls:3,vars:2,consts:[["class","shop",4,"ngIf","ngIfElse"],["loading",""],[1,"shop"],[1,"shop__header"],[1,"section","shop__side"],[1,"shop__categories"],[1,"shop__filter-header"],[1,"line-divider"],[1,"shop__filter-btn-container"],[1,"shop__filter-btn-row","shop__filter-btn-row--all"],["aria-label","Select all categories","type","button",1,"btn","shop__filter-btn","shop__filter-btn--all",3,"ngClass","click"],[4,"ngIf"],["class","shop__filter-btn-row",4,"ngFor","ngForOf","ngForTrackBy"],["class","shop__extras",4,"ngIf"],[1,"shop__resources"],[1,"shop__resources-header"],[1,"shop__resources-btn-container"],[1,"shop__resources-btn-row"],["routerLink","/shop/faq",1,"btn","shop__resources-btn","shop__resources-btn--expand"],["baseRoute","products/",3,"products"],[1,"btn-loader-container"],[1,"btn-loader"],["aria-label","Add shop category","routerLink","/shop/categories/editor",1,"btn","btn--go","shop__filter-btn--add"],[1,"shop__filter-btn-row"],["aria-label","Filter shop category","type","button",1,"btn","shop__filter-btn",3,"ngClass","click"],["aria-label","Edit blog topic","routerLink","/shop/categories/editor",1,"btn","shop__filter-btn--edit",3,"click"],["aria-label","Delete shop topic","type","button",1,"btn","shop__filter-btn--edit","btn--warn",3,"click"],[1,"shop__extras"],["aria-label","Filter shop status","type","button",1,"btn","shop__filter-btn","shop__filter-btn--expand",3,"ngClass","click"]],template:function(t,e){if(1&t&&(d.tc(0,qt,25,12,"div",0),d.tc(1,It,1,0,"ng-template",null,1,d.uc)),2&t){const t=d.kc(2);d.ec("ngIf",e.isLoaded)("ngIfElse",t)}},directives:[i.j,i.h,i.i,s.d,ct,s.c,x.a],styles:['.shop[_ngcontent-%COMP%]{background-color:#333944;display:grid;grid-template-areas:"header" "categories" "products";height:auto}.shop[_ngcontent-%COMP%]   .shop__header[_ngcontent-%COMP%]{grid-area:header}.shop[_ngcontent-%COMP%]   .shop__side[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-area:categories;min-height:auto;margin:0}.shop[_ngcontent-%COMP%]   .shop__categories[_ngcontent-%COMP%], .shop[_ngcontent-%COMP%]   .shop__extras[_ngcontent-%COMP%], .shop[_ngcontent-%COMP%]   .shop__resources[_ngcontent-%COMP%]{margin-bottom:calc(3 * 2rem)}.shop[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{grid-area:products}.shop__header[_ngcontent-%COMP%]{margin:0 auto 2rem;padding:2rem;text-align:center}.shop__filter-header[_ngcontent-%COMP%], .shop__resources-header[_ngcontent-%COMP%]{margin-bottom:1rem}.shop__filter-btn-container[_ngcontent-%COMP%], .shop__resources-btn-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.shop__filter-btn[_ngcontent-%COMP%], .shop__resources-btn[_ngcontent-%COMP%]{font-size:90%;height:48px;line-height:48px;width:100%}.shop__filter-btn--add[_ngcontent-%COMP%], .shop__filter-btn--edit[_ngcontent-%COMP%], .shop__resources-btn--add[_ngcontent-%COMP%], .shop__resources-btn--edit[_ngcontent-%COMP%]{height:36px;line-height:36px;margin-left:1rem}.shop__filter-btn--add[_ngcontent-%COMP%], .shop__resources-btn--add[_ngcontent-%COMP%]{font-size:170%;width:calc(56px * 2 + 1rem)}.shop__filter-btn--edit[_ngcontent-%COMP%], .shop__resources-btn--edit[_ngcontent-%COMP%]{font-size:118%;width:56px}.shop__filter-btn--half[_ngcontent-%COMP%], .shop__resources-btn--half[_ngcontent-%COMP%]{min-width:184px}.shop__filter-btn-row[_ngcontent-%COMP%], .shop__resources-btn-row[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:space-between;width:100%}.shop__filter-btn-row--all[_ngcontent-%COMP%], .shop__resources-btn-row--all[_ngcontent-%COMP%]{margin-bottom:2rem}@media only screen and (min-width:768px){  .line-divider{margin-bottom:2rem}.shop__filter-btn[_ngcontent-%COMP%]{font-size:90%;height:56px;line-height:56px;width:232px}.shop__filter-btn--add[_ngcontent-%COMP%], .shop__filter-btn--edit[_ngcontent-%COMP%]{width:52px}.shop__filter-btn--add[_ngcontent-%COMP%]{width:calc(52px + 52px + 1rem)}.shop__filter-btn--expand[_ngcontent-%COMP%]{width:100%}.shop[_ngcontent-%COMP%]{grid-template-areas:"header header header header header" "categories products products products products"}.shop[_ngcontent-%COMP%]   .shop__side[_ngcontent-%COMP%]{margin:0 auto;min-height:calc(100vh - 8vh)}}']}),t})()},{path:"categories/editor",component:T},{path:"checkout",component:U},{path:"faq",component:K},{path:"products/editor",component:pt}]}];let xt=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},imports:[[s.e.forChild(Lt)],s.e]}),t})(),Bt=(()=>{class t{}return t.\u0275mod=d.Jb({type:t}),t.\u0275inj=d.Ib({factory:function(e){return new(e||t)},providers:[y,C,k,Q,q],imports:[[i.b,c.a,r.b.forRoot(),a.a,n.n,xt]]}),t})()},N24m:function(t,e,o){"use strict";o.d(e,"a",function(){return a});var i=o("tk/3"),n=o("AytR"),r=o("vAmI"),c=o("fXoL");let a=(()=>{class t extends r.a{constructor(t){super(t),this.assetsBucketPrefix="https://storage.googleapis.com/mattmaxwell-assets"}getImageUri(t="",e){const o=t.match(/[^.]*/)[0];return`${this.assetsBucketPrefix}/${o}.${e}`}uploadFile(t,e){const o=this.contentTypeHeader("multipart/form-data");let r=new i.e;return r=r.set("dir",e.folder),this.http.post(`${n.a.API_URL}/files/upload`,t,{headers:o,params:r})}deleteFile(t){let e=new i.e;return e=e.set("uri",t),this.http.delete(`${n.a.API_URL}/files/delete`,{params:e})}}return t.\u0275fac=function(e){return new(e||t)(c.Ub(i.b))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},QtTN:function(t,e,o){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var n,r="https://js.stripe.com/v3",c=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s=null,d=function(t){return null!==s?s:s=new Promise(function(e,o){if("undefined"!=typeof window)if(window.Stripe&&t&&console.warn(a),window.Stripe)e(window.Stripe);else try{var i=function(){for(var t=document.querySelectorAll('script[src^="'.concat(r,'"]')),e=0;e<t.length;e++){var o=t[e];if(c.test(o.src))return o}return null}();i&&t?console.warn(a):i||(i=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",o=document.createElement("script");o.src="".concat(r).concat(e);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(o),o}(t)),i.addEventListener("load",function(){window.Stripe?e(window.Stripe):o(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){o(new Error("Failed to load Stripe.js"))})}catch(n){return void o(n)}else e(null)})},u=function(t,e,o){if(null===t)return null;var i=t.apply(void 0,e);return function(t,e){t&&t._registerWrapper&&t._registerWrapper({name:"stripe-js",version:"1.12.1",startTime:e})}(i,o),i},b=!1,l=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];b=!0;var i=Date.now();return d(n).then(function(t){return u(t,e,i)})};l.setLoadParameters=function(t){if(b)throw new Error("You cannot change load parameters after calling loadStripe");n=function(t){var e="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(t),"\n");if(null===t||"object"!==i(t))throw new Error(e);if(1===Object.keys(t).length&&"boolean"==typeof t.advancedFraudSignals)return t;throw new Error(e)}(t)},e.loadStripe=l},dBlp:function(t,e,o){t.exports=o("QtTN")}}]);