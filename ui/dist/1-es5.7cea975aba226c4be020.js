!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=s(t);if(e){var n=s(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return c(this,i)}}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1,8],{"+5rw":function(e,n,c){"use strict";c.d(n,"a",(function(){return g})),c.d(n,"b",(function(){return v})),c.d(n,"c",(function(){return m})),c.d(n,"d",(function(){return _}));var s,a,l,u,b=c("AytR"),p=c("vAmI"),f=c("fXoL"),d=c("tk/3"),g=((s=function(e){o(c,e);var n=r(c);function c(e){return t(this,c),n.call(this,e)}return i(c,[{key:"activateProfile",value:function(t){var e=this.contentTypeHeader();return this.http.put("".concat(b.a.API_URL,"/portfolio/profiles/").concat(t,"/activate"),{},{headers:e})}},{key:"createProfile",value:function(t){var e=this.contentTypeHeader();return this.http.post(b.a.API_URL+"/portfolio/profiles",t,{headers:e})}},{key:"deleteProfile",value:function(t){return this.http.delete("".concat(b.a.API_URL,"/portfolio/profiles/").concat(t))}},{key:"getProfiles",value:function(){return this.http.get(b.a.API_URL+"/portfolio/profiles")}},{key:"getProfileStatuses",value:function(){return this.http.get(b.a.API_URL+"/portfolio/profiles/statuses")}},{key:"getProfileTechnologies",value:function(t){return this.http.get("".concat(b.a.API_URL,"/portfolio/profiles/").concat(t,"/technologies"))}},{key:"updateProfile",value:function(t){var e=this.contentTypeHeader();return this.http.put("".concat(b.a.API_URL,"/portfolio/profiles/").concat(t.id),t,{headers:e})}},{key:"createProject",value:function(t){var e=this.contentTypeHeader();return this.http.post(b.a.API_URL+"/portfolio/projects",t,{headers:e})}},{key:"deleteProject",value:function(t){return this.http.delete("".concat(b.a.API_URL,"/portfolio/projects/").concat(t))}},{key:"getProject",value:function(t){return this.http.get("".concat(b.a.API_URL,"/portfolio/projects/").concat(t))}},{key:"getProjects",value:function(){return this.http.get(b.a.API_URL+"/portfolio/projects")}},{key:"updateProject",value:function(t){var e=this.contentTypeHeader();return this.http.put("".concat(b.a.API_URL,"/portfolio/projects/").concat(t.id),t,{headers:e})}}]),c}(p.a)).\u0275fac=function(t){return new(t||s)(f.Sb(d.b))},s.\u0275prov=f.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),h=c("dJ3e"),v=((u=function(e){o(n,e);var i=r(n);function n(){var e;return t(this,n),(e=i.call(this)).profiles=function(t,e){return t.name>e.name?1:t.name<e.name?-1:0},e.profileTechnologies=function(t,e){return t.display_order>e.display_order?1:t.display_order<e.display_order?-1:0},e.projects=function(t,e){return t.name>e.name?1:t.name<e.name?-1:0},e}return n}(h.a)).\u0275fac=function(t){return new(t||u)},u.\u0275prov=f.Fb({token:u,factory:u.\u0275fac,providedIn:"root"}),u),m=((l=function(e){o(c,e);var n=r(c);function c(){return t(this,c),n.call(this)}return i(c,[{key:"getProfile",value:function(){return console.log(this.profile),this.profile}},{key:"hasProfile",value:function(){return void 0!==this.profile}},{key:"setProfile",value:function(t){this.profile=t,console.log(this.profile)}},{key:"getProject",value:function(){return this.project}},{key:"hasProject",value:function(){return void 0!==this.project}},{key:"setProject",value:function(t){this.project=t}}]),c}(h.b)).\u0275fac=function(t){return new(t||l)},l.\u0275prov=f.Fb({token:l,factory:l.\u0275fac,providedIn:"root"}),l),_=((a=function(){function e(){t(this,e)}return i(e,[{key:"getActiveProfile",value:function(){return this.activeProfile}},{key:"getActiveProfileName",value:function(){return this.activeProfile?this.activeProfile.name:"Software Engineering"}},{key:"setActiveProfile",value:function(t){this.activeProfile=t}}]),e}()).\u0275fac=function(t){return new(t||a)},a.\u0275prov=f.Fb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},"2X3A":function(e,o,n){"use strict";n.d(o,"a",(function(){return y}));var r=n("fXoL"),c=n("N4ua"),s=n("dJ3e"),a=n("ofXK"),l=n("tyNb");function u(t,e){if(1&t&&(r.Ob(0,"h3",15),r.tc(1),r.Nb()),2&t){var i=r.Zb().$implicit;r.zb(1),r.uc(i.title)}}function b(t,e){if(1&t&&(r.Ob(0,"h3",15),r.tc(1),r.Nb()),2&t){var i=r.Zb().$implicit;r.zb(1),r.uc(i.status.status+": "+i.title)}}var p=function(){return["/blog"]};function f(t,e){if(1&t){var i=r.Pb();r.Ob(0,"a",18),r.Vb("click",(function(){r.jc(i);var t=e.$implicit;return r.Zb(4).blogTopicService.setActiveTopic(t)})),r.tc(1),r.Nb()}if(2&t){var o=e.$implicit;r.cc("routerLink",r.dc(2,p)),r.zb(1),r.vc(" ",o.name," ")}}function d(t,e){if(1&t&&(r.Ob(0,"div",16),r.rc(1,f,2,3,"a",17),r.Nb()),2&t){var i=r.Zb().$implicit;r.zb(1),r.cc("ngForOf",i.topics)}}function g(t,e){if(1&t&&(r.Ob(0,"p",19),r.tc(1),r.Nb()),2&t){var i=r.Zb().$implicit;r.zb(1),r.vc(" ",i.preview.split(" ").slice(0,44).join(" ")," ... ")}}var h=function(t){return{"posts__post--rjust":t}},v=function(t){return[t]};function m(t,e){if(1&t&&(r.Ob(0,"div",8),r.Ob(1,"a",9),r.rc(2,u,2,1,"h3",10),r.rc(3,b,2,1,"h3",10),r.Ob(4,"h4",11),r.tc(5),r.Nb(),r.Nb(),r.rc(6,d,2,1,"div",12),r.rc(7,g,2,1,"p",13),r.Kb(8,"p",14),r.Nb()),2&t){var i=e.$implicit,o=e.index,n=r.Zb(2);r.cc("ngClass",r.ec(8,h,o%2!=0)),r.zb(1),r.cc("routerLink",r.ec(10,v,n.getPostUrl(i.id,i.title))),r.zb(1),r.cc("ngIf","PUBLISHED"===i.status.status),r.zb(1),r.cc("ngIf","PUBLISHED"!==i.status.status),r.zb(2),r.uc(i.subtitle),r.zb(1),r.cc("ngIf",n.showTopics),r.zb(1),r.cc("ngIf",n.showPreview),r.zb(1),r.cc("innerHTML",n.seoService.getFormattedDate(i.updated_at),r.kc)}}function _(t,e){1&t&&(r.Ob(0,"a",20),r.tc(1," See Blog "),r.Nb())}var P=function(t){return{"btn--hide":t}};function k(t,e){if(1&t){var i=r.Pb();r.Ob(0,"div",1),r.Ob(1,"h2",2),r.tc(2,"Posts"),r.Nb(),r.Kb(3,"div",3),r.Ob(4,"div",4),r.rc(5,m,9,12,"div",5),r.Nb(),r.Ob(6,"button",6),r.Vb("click",(function(){return r.jc(i),r.Zb().displayMorePosts()})),r.tc(7," Load More "),r.Nb(),r.rc(8,_,2,0,"a",7),r.Nb()}if(2&t){var o=r.Zb();r.zb(5),r.cc("ngForOf",o.getPosts())("ngForTrackBy",o.trackingService.objectById),r.zb(1),r.cc("ngClass",r.ec(4,P,o.nPostsToDisplay>=o.posts.length)),r.zb(2),r.cc("ngIf",o.showReadmore)}}var y=function(){var e=function(){function e(i,o,n,r){t(this,e),this.blogComparisonService=i,this.blogTopicService=o,this.seoService=n,this.trackingService=r,this.baseRoute="blog/posts",this.nPostsToDisplay=5}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.posts.forEach((function(e){e.topics.sort(t.blogComparisonService.topics)}))}},{key:"getPosts",value:function(){return this.posts.slice(0,this.nPostsToDisplay)}},{key:"displayMorePosts",value:function(){this.nPostsToDisplay+=5,this.nPostsToDisplay>=this.posts.length&&(this.nPostsToDisplay=this.posts.length)}},{key:"getPostUrl",value:function(t,e){return"".concat(this.baseRoute,"/").concat(this.seoService.getCanonicalUrl(t,e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Jb(c.b),r.Jb(c.d),r.Jb(s.d),r.Jb(s.e))},e.\u0275cmp=r.Db({type:e,selectors:[["app-blog-post-collection"]],inputs:{posts:"posts",showPreview:"showPreview",showTopics:"showTopics",showReadmore:"showReadmore",baseRoute:"baseRoute"},decls:1,vars:1,consts:[["class","section posts",4,"ngIf"],[1,"section","posts"],[1,"posts__header"],[1,"line-divider"],[1,"container","posts__post-container"],["class","posts__post",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["aria-label","Display more posts",1,"btn","posts__load-btn",3,"ngClass","click"],["class","btn posts__readmore-btn","routerLink","/blog",4,"ngIf"],[1,"posts__post",3,"ngClass"],[1,"posts__post-anchor-wrapper",3,"routerLink"],["class","posts__post-title",4,"ngIf"],[1,"posts__post-subtitle"],["class","posts__post-topic-list",4,"ngIf"],["class","posts__post-preview",4,"ngIf"],[1,"posts__post-date",3,"innerHTML"],[1,"posts__post-title"],[1,"posts__post-topic-list"],["class","posts__post-topic-item",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"posts__post-topic-item",3,"routerLink","click"],[1,"posts__post-preview"],["routerLink","/blog",1,"btn","posts__readmore-btn"]],template:function(t,e){1&t&&r.rc(0,k,9,6,"div",0),2&t&&r.cc("ngIf",e.posts)},directives:[a.j,a.i,a.h,l.c],styles:[".posts[_ngcontent-%COMP%]{min-height:calc(41vh + 1px)}.posts__post-container[_ngcontent-%COMP%]{margin-bottom:2rem}.posts__post-date[_ngcontent-%COMP%], .posts__post-preview[_ngcontent-%COMP%], .posts__post-subtitle[_ngcontent-%COMP%], .posts__post-title[_ngcontent-%COMP%], .posts__post-topic-list[_ngcontent-%COMP%]{padding:1rem 2rem}.posts__post[_ngcontent-%COMP%]{background-color:#acb5c7;border:1px solid #000}.posts__post-title[_ngcontent-%COMP%]{padding-top:2rem}.posts__post-subtitle[_ngcontent-%COMP%]{color:#f7faff;font-style:italic;font-weight:500;padding-top:.5rem}.posts__post-date[_ngcontent-%COMP%]{color:#333944;font-style:italic;padding-bottom:2rem}.posts__post-topic-list[_ngcontent-%COMP%]{color:#4b6185;display:grid;grid-gap:.5rem}.posts__post-topic-item[_ngcontent-%COMP%]{color:#4b6185}.posts__post-preview[_ngcontent-%COMP%]{color:#333944}.posts__load-btn[_ngcontent-%COMP%], .posts__readmore-btn[_ngcontent-%COMP%]{font-size:100%;height:48px;max-width:316px;width:100%}.posts__readmore-btn[_ngcontent-%COMP%]{line-height:48px}@media only screen and (min-width:768px){.posts__post-title[_ngcontent-%COMP%]:hover, .posts__post-topic-item[_ngcontent-%COMP%]:hover{text-decoration:underline}}"],changeDetection:0}),e}()},"4E6C":function(e,o,n){"use strict";n.d(o,"a",(function(){return c}));var r=n("fXoL"),c=function(){var e=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Db({type:e,selectors:[["app-loading-spinner"]],decls:4,vars:0,consts:[[1,"app-loading"],[1,"logo"],["viewBox","25 25 50 50",1,"spinner"],["cx","50","cy","50","r","20","fill","none","stroke-width","2","stroke-miterlimit","10",1,"path"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Kb(1,"div",1),r.Yb(),r.Ob(2,"svg",2),r.Kb(3,"circle",3),r.Nb(),r.Nb())},styles:[".app-loading[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;height:calc(100vh - 8vh - 6vh);justify-content:center;position:sticky;position:-webkit-sticky;top:0}.app-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:200px;width:200px;-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;transform-origin:center center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.app-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:1,200;stroke-dashoffset:0;-webkit-animation:dash 1s ease-in-out infinite;animation:dash 1s ease-in-out infinite;stroke-linecap:round;stroke:#ddd}@-webkit-keyframes rotate{to{transform:rotate(1turn)}}@keyframes rotate{to{transform:rotate(1turn)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}"]}),e}()},N4ua:function(e,n,c){"use strict";c.d(n,"a",(function(){return g})),c.d(n,"b",(function(){return v})),c.d(n,"c",(function(){return m})),c.d(n,"d",(function(){return _}));var s,a,l,u,b=c("tk/3"),p=c("AytR"),f=c("vAmI"),d=c("fXoL"),g=((s=function(e){o(c,e);var n=r(c);function c(e){return t(this,c),n.call(this,e)}return i(c,[{key:"getBlogAuthors",value:function(){return this.http.get(p.a.API_URL+"/blog/authors")}},{key:"createPost",value:function(t){var e=this.contentTypeHeader();return this.http.post(p.a.API_URL+"/blog/posts",t,{headers:e})}},{key:"deletePost",value:function(t){return this.http.delete("".concat(p.a.API_URL,"/blog/posts/").concat(t))}},{key:"getPost",value:function(t){return this.http.get("".concat(p.a.API_URL,"/blog/posts/").concat(t))}},{key:"getPosts",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new b.e;return-1!=t&&(i=i.set("topic_id",t.toString())),e&&(i=i.set("published","true")),this.http.get(p.a.API_URL+"/blog/posts",{params:i})}},{key:"getPostStatuses",value:function(){return this.http.get(p.a.API_URL+"/blog/posts/statuses")}},{key:"updatePost",value:function(t){var e=this.contentTypeHeader();return this.http.put("".concat(p.a.API_URL,"/blog/posts/").concat(t.id),t,{headers:e})}},{key:"createTopic",value:function(t){var e=this.contentTypeHeader();return this.http.post(p.a.API_URL+"/blog/topics",t,{headers:e})}},{key:"deleteTopic",value:function(t){return this.http.delete("".concat(p.a.API_URL,"/blog/topics/").concat(t))}},{key:"getTopics",value:function(){return this.http.get(p.a.API_URL+"/blog/topics")}},{key:"updateTopic",value:function(t){var e=this.contentTypeHeader();return this.http.put("".concat(p.a.API_URL,"/blog/topics/").concat(t.id),t,{headers:e})}}]),c}(f.a)).\u0275fac=function(t){return new(t||s)(d.Sb(b.b))},s.\u0275prov=d.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),h=c("dJ3e"),v=((u=function(e){o(n,e);var i=r(n);function n(){var e;return t(this,n),(e=i.call(this)).posts=function(t,e){return t.updated_at<e.updated_at?1:t.updated_at>e.updated_at?-1:0},e.topics=function(t,e){return t.name>e.name?1:t.name<e.name?-1:0},e}return n}(h.a)).\u0275fac=function(t){return new(t||u)},u.\u0275prov=d.Fb({token:u,factory:u.\u0275fac,providedIn:"root"}),u),m=((l=function(e){o(c,e);var n=r(c);function c(){return t(this,c),n.call(this)}return i(c,[{key:"getPost",value:function(){return this.post}},{key:"hasPost",value:function(){return void 0!==this.post}},{key:"setPost",value:function(t){this.post=t}},{key:"getTopic",value:function(){return this.topic}},{key:"hasTopic",value:function(){return void 0!==this.topic}},{key:"setTopic",value:function(t){this.topic=t}}]),c}(h.b)).\u0275fac=function(t){return new(t||l)},l.\u0275prov=d.Fb({token:l,factory:l.\u0275fac,providedIn:"root"}),l),_=((a=function(){function e(){t(this,e)}return i(e,[{key:"getActiveTopicId",value:function(){return this.activeTopic?this.activeTopic.id:-1}},{key:"hasActiveTopic",value:function(){return void 0!==this.activeTopic}},{key:"setActiveTopic",value:function(t){this.activeTopic=t}}]),e}()).\u0275fac=function(t){return new(t||a)},a.\u0275prov=d.Fb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},X6tI:function(e,o,n){"use strict";n.r(o),n.d(o,"BlogModule",(function(){return ct}));var r,c=n("ofXK"),s=n("3Pt+"),a=n("lR5k"),l=n("pKmL"),u=n("7of8"),b=n("tyNb"),p=n("fXoL"),f=((r=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=p.Db({type:r,selectors:[["app-blog"]],decls:1,vars:0,template:function(t,e){1&t&&p.Kb(0,"router-outlet")},directives:[b.e],encapsulation:2}),r),d=n("2X3A"),g=function(){function e(i){t(this,e),Object.assign(this,i)}return i(e,[{key:"deserialize",value:function(t){return Object.assign(this,t),this}}]),e}(),h=function(){function e(i){t(this,e),Object.assign(this,i)}return i(e,[{key:"deserialize",value:function(t){return Object.assign(this,t),this}}]),e}(),v=function(){function e(i){t(this,e),Object.assign(this,i)}return i(e,[{key:"deserialize",value:function(t){return Object.assign(this,t),this}}]),e}(),m=function(){function e(i){t(this,e),Object.assign(this,i)}return i(e,[{key:"deserialize",value:function(t){return Object.assign(this,t),this.author=t.author.map((function(t){return new g(Object.assign({},t)).deserialize(t)})),this.status=t.status.map((function(t){return new h(Object.assign({},t)).deserialize(t)})),this.topics=t.topics.map((function(t){return new v(Object.assign({},t)).deserialize(t)})),this}}]),e}(),_=n("Rtfg"),P=n("N4ua"),k=n("dJ3e"),y=n("jhN1"),O=n("QibW"),w=n("bSwM"),S=n("4E6C");function C(t,e){if(1&t&&(p.Ob(0,"mat-radio-button",19),p.tc(1),p.Nb()),2&t){var i=e.$implicit,o=p.Zb(2);p.cc("value",o.buildAuthorName(i)),p.zb(1),p.uc(o.buildAuthorName(i))}}function T(t,e){if(1&t&&(p.Ob(0,"mat-radio-button",19),p.tc(1),p.Nb()),2&t){var i=e.$implicit;p.cc("value",i.status),p.zb(1),p.uc(i.status)}}function M(t,e){if(1&t&&(p.Ob(0,"div",20),p.Ob(1,"mat-checkbox",21),p.tc(2),p.Nb(),p.Kb(3,"br"),p.Nb()),2&t){var i=e.index,o=p.Zb(2);p.zb(1),p.cc("formControlName",i),p.zb(1),p.uc(o.topicData[i].name)}}var N=function(t){return{"btn--inactive":t}};function I(t,e){if(1&t){var i=p.Pb();p.Ob(0,"div",2),p.Ob(1,"h1",3),p.tc(2,"Post Editor"),p.Nb(),p.Kb(3,"div",4),p.Ob(4,"form",5),p.Vb("ngSubmit",(function(){return p.jc(i),p.Zb().onSubmit()})),p.Ob(5,"div",6),p.Ob(6,"label",7),p.tc(7,"Title"),p.Nb(),p.Kb(8,"br"),p.Kb(9,"br"),p.Kb(10,"input",8),p.Nb(),p.Ob(11,"div",6),p.Ob(12,"label",7),p.tc(13,"Subtitle"),p.Nb(),p.Kb(14,"br"),p.Kb(15,"br"),p.Kb(16,"input",9),p.Nb(),p.Ob(17,"div",6),p.Ob(18,"label",7),p.tc(19,"Author"),p.Nb(),p.Kb(20,"br"),p.Kb(21,"br"),p.Ob(22,"mat-radio-group",10),p.rc(23,C,2,2,"mat-radio-button",11),p.Nb(),p.Nb(),p.Ob(24,"div",6),p.Ob(25,"label",7),p.tc(26,"Status"),p.Nb(),p.Kb(27,"br"),p.Kb(28,"br"),p.Ob(29,"mat-radio-group",12),p.rc(30,T,2,2,"mat-radio-button",11),p.Nb(),p.Nb(),p.Ob(31,"div",6),p.Ob(32,"label",7),p.tc(33,"Topics"),p.Nb(),p.Kb(34,"br"),p.Kb(35,"br"),p.rc(36,M,4,2,"div",13),p.Nb(),p.Ob(37,"div",6),p.Ob(38,"label",7),p.tc(39,"Preview"),p.Nb(),p.Kb(40,"br"),p.Kb(41,"br"),p.Kb(42,"textarea",14),p.Nb(),p.Ob(43,"div",15),p.Ob(44,"label",7),p.tc(45,"Content"),p.Nb(),p.Kb(46,"br"),p.Kb(47,"br"),p.Kb(48,"textarea",16),p.Nb(),p.Ob(49,"div",6),p.Ob(50,"label",7),p.tc(51,"Image URL"),p.Nb(),p.Kb(52,"br"),p.Kb(53,"br"),p.Kb(54,"input",17),p.Nb(),p.Ob(55,"button",18),p.tc(56," Submit "),p.Nb(),p.Nb(),p.Nb()}if(2&t){var o=p.Zb();p.zb(4),p.cc("formGroup",o.postForm),p.zb(19),p.cc("ngForOf",o.authorData)("ngForTrackBy",o.trackingService.objectById),p.zb(7),p.cc("ngForOf",o.statusData)("ngForTrackBy",o.trackingService.objectById),p.zb(6),p.cc("ngForOf",o.postForm.controls.topics.controls)("ngForTrackBy",o.trackingService.objectById),p.zb(19),p.cc("ngClass",p.ec(9,N,!o.postForm.valid))("disabled",!o.postForm.valid)}}function A(t,e){1&t&&p.Kb(0,"app-loading-spinner")}var D,F=((D=function(){function e(i,o,n,r,c,s,a,l,u,b,p){t(this,e),this.authService=i,this.blogApiService=o,this.blogEditorService=n,this.blogComparisonService=r,this.notificationService=c,this.seoService=s,this.titleService=a,this.trackingService=l,this.validationService=u,this.formBuilder=b,this.router=p,this.authorData=[],this.statusData=[],this.topicData=[],this.isLoaded=!1}return i(e,[{key:"ngOnDestroy",value:function(){this.blogEditorService.setPost(null)}},{key:"ngOnInit",value:function(){this.titleService.setTitle("Blog Post Editor | Matthew Maxwell"),this.checkForAdmin(),this.setPageHideEvent(),this.initPostForm()}},{key:"checkForAdmin",value:function(){this.authService.isLoggedIn()||this.router.navigate([""])}},{key:"setPageHideEvent",value:function(){var t=this;window.onpagehide=function(){t.blogEditorService.setPost(null)}}},{key:"initPostForm",value:function(){this.loadPostData(),this.loadAuthorData(),this.loadStatusData(),this.loadTopicData(),this.buildPostForm()}},{key:"loadPostData",value:function(){this.postData=this.blogEditorService.getPost()}},{key:"loadAuthorData",value:function(){var t=this;this.blogApiService.getBlogAuthors().subscribe((function(e){t.authorData=e}))}},{key:"loadStatusData",value:function(){var t=this;this.blogApiService.getPostStatuses().subscribe((function(e){t.statusData=e}))}},{key:"loadTopicData",value:function(){var t=this;this.blogApiService.getTopics().subscribe((function(e){t.topicData=e.sort(t.blogComparisonService.topics),t.setTopicControls(t.postData?t.postData.topics.map((function(t){return t.id})):[]),t.isLoaded=!0}))}},{key:"setTopicControls",value:function(t){var e=this;this.topicData.forEach((function(i){var o=e.formBuilder.control(t.includes(i.id));e.postForm.controls.topics.push(o)}))}},{key:"buildPostForm",value:function(){this.postForm=this.formBuilder.group(this.postData?{title:this.formBuilder.control(this.postData.title,[s.p.required]),subtitle:this.formBuilder.control(this.postData.subtitle,[s.p.required]),author:this.formBuilder.control(this.buildAuthorName(this.postData.author),[s.p.required]),status:this.formBuilder.control(this.postData.status.status,[s.p.required]),topics:this.formBuilder.array(this.topicData,[this.validationService.hasMinElements(1)]),preview:this.formBuilder.control(this.postData.preview,[s.p.required]),content:this.formBuilder.control(this.postData.content,[s.p.required]),image_url:this.formBuilder.control(this.postData.image_url,[s.p.required])}:{title:this.formBuilder.control("",[s.p.required]),subtitle:this.formBuilder.control("",[s.p.required]),author:this.formBuilder.control("Matthew Maxwell",[s.p.required]),status:this.formBuilder.control("DRAFT",[s.p.required]),topics:this.formBuilder.array([],[this.validationService.hasMinElements(1)]),preview:this.formBuilder.control("",[s.p.required]),content:this.formBuilder.control("",[s.p.required]),image_url:this.formBuilder.control("",[s.p.required])})}},{key:"buildAuthorName",value:function(t){return"".concat(t.first_name," ").concat(t.last_name)}},{key:"onSubmit",value:function(){var t=this,e=this.buildFormPostData();void 0===e.id?this.blogApiService.createPost(e).subscribe((function(e){t.notificationService.createNotification("Successfully created new post!"),t.router.navigate(["blog/posts/"+t.seoService.getCanonicalUrl(e.id,e.title)])})):this.blogApiService.updatePost(e).subscribe((function(e){t.notificationService.createNotification("Successfully updated existing post!"),t.router.navigate(["blog/posts/"+t.seoService.getCanonicalUrl(e.id,e.title)])}))}},{key:"buildFormPostData",value:function(){var t=this.buildFormAuthorData(),e=this.buildFormStatusData(),i=this.buildFormTopicData();return new m(Object.assign(Object.assign({},this.postForm.value),{id:this.postData?this.postData.id:void 0,author:t,status:e,topics:i}))}},{key:"buildFormAuthorData",value:function(){var t=this;return this.authorData.find((function(e){return t.buildAuthorName(e)===t.postForm.value.author}))}},{key:"buildFormStatusData",value:function(){var t=this;return this.statusData.find((function(e){return e.status===t.postForm.value.status}))}},{key:"buildFormTopicData",value:function(){var t=this;return this.postForm.value.topics.map((function(e,i){if(e)return t.topicData[i]})).filter((function(t){return void 0!==t}))}}]),e}()).\u0275fac=function(t){return new(t||D)(p.Jb(_.c),p.Jb(P.a),p.Jb(P.c),p.Jb(P.b),p.Jb(k.c),p.Jb(k.d),p.Jb(y.c),p.Jb(k.e),p.Jb(k.f),p.Jb(s.d),p.Jb(b.a))},D.\u0275cmp=p.Db({type:D,selectors:[["app-blog-post-editor"]],decls:3,vars:2,consts:[["class","section editor",4,"ngIf","ngIfElse"],["loading",""],[1,"section","editor"],[1,"editor__header"],[1,"line-divider"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","title","required","","autofocus",""],["formControlName","subtitle","required","","autofocus",""],["formControlName","author","name","author","required",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","status","name","status","required",""],["class","form__checkbox-item","formArrayName","topics",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","preview","required",""],[1,"form-field","form-field--large","editor__form-field"],["formControlName","content","required",""],["formControlName","image_url","required",""],["aria-label","Submit post",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"],[3,"value"],["formArrayName","topics",1,"form__checkbox-item"],[3,"formControlName"]],template:function(t,e){if(1&t&&(p.rc(0,I,57,11,"div",0),p.rc(1,A,1,0,"ng-template",null,1,p.sc)),2&t){var i=p.hc(2);p.cc("ngIf",e.isLoaded)("ngIfElse",i)}},directives:[c.j,s.q,s.k,s.f,s.b,s.j,s.e,s.o,O.b,c.i,c.h,O.a,s.c,w.a,S.a],encapsulation:2}),D);function x(t,e){if(1&t&&(p.Ob(0,"h1",15),p.tc(1),p.Nb()),2&t){var i=p.Zb(2);p.zb(1),p.uc(i.post.title)}}function j(t,e){if(1&t&&(p.Ob(0,"h1",15),p.tc(1),p.Nb()),2&t){var i=p.Zb(2);p.zb(1),p.uc(i.post.status.status+": "+i.post.title)}}function L(t,e){if(1&t){var i=p.Pb();p.Ob(0,"div",16),p.Ob(1,"a",17),p.Vb("click",(function(){return p.jc(i),p.Zb(2).sendPostToEditor()})),p.tc(2," \u270f "),p.Nb(),p.Ob(3,"a",18),p.Vb("click",(function(){p.jc(i);var t=p.Zb(2);return t.deletePost(t.post.id)})),p.tc(4," \u2715 "),p.Nb(),p.Nb()}}var z=function(){return["/blog"]};function B(t,e){if(1&t){var i=p.Pb();p.Ob(0,"a",19),p.Vb("click",(function(){p.jc(i);var t=e.$implicit;return p.Zb(2).blogTopicService.setActiveTopic(t)})),p.tc(1),p.Nb()}if(2&t){var o=e.$implicit;p.cc("routerLink",p.dc(2,z)),p.zb(1),p.vc(" ",o.name," ")}}function E(t,e){if(1&t&&(p.Ob(0,"div",2),p.rc(1,x,2,1,"h1",3),p.rc(2,j,2,1,"h1",3),p.Ob(3,"h2",4),p.tc(4),p.Nb(),p.rc(5,L,5,0,"div",5),p.Kb(6,"p",6),p.Ob(7,"div",7),p.rc(8,B,2,3,"a",8),p.Nb(),p.Kb(9,"div",9),p.Ob(10,"div",10),p.Ob(11,"picture"),p.Kb(12,"source",11),p.Kb(13,"source",12),p.Kb(14,"img",13),p.Nb(),p.Nb(),p.Kb(15,"markdown",14),p.Nb()),2&t){var i=p.Zb();p.zb(1),p.cc("ngIf","PUBLISHED"===i.post.status.status),p.zb(1),p.cc("ngIf","PUBLISHED"!==i.post.status.status),p.zb(2),p.uc(i.post.subtitle),p.zb(1),p.cc("ngIf",i.isAdmin),p.zb(1),p.cc("innerHtml","Updated: "+i.seoService.getFormattedDate(i.post.updated_at),p.kc),p.zb(2),p.cc("ngForOf",i.post.topics)("ngForTrackBy",i.trackingService.objectById),p.zb(4),p.cc("srcset",i.post.image_url,p.lc),p.zb(1),p.cc("srcset",i.post.image_url.substring(0,i.post.image_url.length-4)+"png",p.lc),p.zb(1),p.cc("src",i.post.image_url.substring(0,i.post.image_url.length-4)+"png",p.lc),p.zb(1),p.cc("data",i.post.content)}}function K(t,e){1&t&&p.Kb(0,"app-loading-spinner")}var J,R=((J=function(){function e(i,o,n,r,c,s,a,l,u,b){t(this,e),this.authService=i,this.blogApiService=o,this.blogEditorService=n,this.blogComparisonService=r,this.blogTopicService=c,this.notificationService=s,this.seoService=a,this.titleService=l,this.trackingService=u,this.router=b,this.isAdmin=!1,this.isLoaded=!1}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isAdmin=this.authService.isLoggedIn();var e=this.seoService.getIdFromUrl(this.router.url);if(!e)return this.notificationService.createNotification("Unable to find post ID."),void this.router.navigate([""]);this.blogApiService.getPost(e).subscribe((function(e){"PUBLISHED"===e.status.status||t.isAdmin||(t.notificationService.createNotification("Unable to view the blog post."),t.router.navigate([""])),t.titleService.setTitle(e.title+" | Blog | Matthew Maxwell"),t.post=e,t.post.topics.sort(t.blogComparisonService.topics),t.isLoaded=!0}))}},{key:"sendPostToEditor",value:function(){this.blogEditorService.setPost(this.post)}},{key:"deletePost",value:function(t){var e=this;this.blogApiService.deletePost(t).subscribe((function(t){e.notificationService.createNotification("Successfully deleted blog post!"),e.router.navigate(["/blog"])}))}}]),e}()).\u0275fac=function(t){return new(t||J)(p.Jb(_.c),p.Jb(P.a),p.Jb(P.c),p.Jb(P.b),p.Jb(P.d),p.Jb(k.c),p.Jb(k.d),p.Jb(y.c),p.Jb(k.e),p.Jb(b.a))},J.\u0275cmp=p.Db({type:J,selectors:[["app-blog-post-view"]],decls:3,vars:2,consts:[["class","section post",4,"ngIf","ngIfElse"],["loading",""],[1,"section","post"],["class","post__title",4,"ngIf"],[1,"post__subtitle"],["class","post__btn-container",4,"ngIf"],[1,"post__date",3,"innerHtml"],[1,"post__topic-container"],["class","post__topic-item",3,"routerLink","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"line-divider"],[1,"post__image-container"],["type","image/webp",3,"srcset"],["type","image/png",3,"srcset"],["alt","Blog post image",1,"post__image",3,"src"],[3,"data"],[1,"post__title"],[1,"post__btn-container"],["routerLink","/blog/posts/editor",1,"btn","post__btn",3,"click"],["routerLink","/blog",1,"btn","post__btn","btn--warn",3,"click"],[1,"post__topic-item",3,"routerLink","click"]],template:function(t,e){if(1&t&&(p.rc(0,E,16,11,"div",0),p.rc(1,K,1,0,"ng-template",null,1,p.sc)),2&t){var i=p.hc(2);p.cc("ngIf",e.isLoaded)("ngIfElse",i)}},directives:[c.j,c.i,a.a,b.c,S.a],styles:["markdown[_ngcontent-%COMP%]     h1, markdown[_ngcontent-%COMP%]     h2, markdown[_ngcontent-%COMP%]     h3, markdown[_ngcontent-%COMP%]     h4, markdown[_ngcontent-%COMP%]     h5, markdown[_ngcontent-%COMP%]     h6{margin:calc(2rem * 1.25) 0 calc(2rem * .75)}markdown[_ngcontent-%COMP%]     img, markdown[_ngcontent-%COMP%]     p{margin:1rem 0}markdown[_ngcontent-%COMP%]     pre{margin:calc(1rem * 1) 0 calc(1rem * 1.5)}markdown[_ngcontent-%COMP%]     a{color:#aec6f1;display:inline-block}markdown[_ngcontent-%COMP%]     div img{box-sizing:border-box}markdown[_ngcontent-%COMP%]     div img, markdown[_ngcontent-%COMP%]     img{border:1px solid #000;text-align:center;width:100%}markdown[_ngcontent-%COMP%]     img{height:auto}markdown[_ngcontent-%COMP%]     p code{background-color:#4e5d74;box-sizing:border-box;color:#fcfdff;margin:0 calc(.5rem / 2);padding:calc(.5rem / 4) calc(.5rem / 2)}markdown[_ngcontent-%COMP%]     .text--note{color:#aec6f1}markdown[_ngcontent-%COMP%]     .text--note-paragraph{color:#e1edff}markdown[_ngcontent-%COMP%]     .text--caution{color:#ffe7a0}markdown[_ngcontent-%COMP%]     .text--caution-paragraph{color:#ffefd3}markdown[_ngcontent-%COMP%]     .text--warn{color:#ffa0b6}markdown[_ngcontent-%COMP%]     .text--warn-paragraph{color:#ffd6dc}markdown[_ngcontent-%COMP%]     .text--tip{color:#9bec8f}markdown[_ngcontent-%COMP%]     .text--tip-paragraph{color:#d7ffd5}@media only screen and (min-width:768px){markdown[_ngcontent-%COMP%]     a:hover{text-decoration:underline}markdown[_ngcontent-%COMP%]     img{width:64%}}.post__btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start}.post__btn[_ngcontent-%COMP%]{font-size:160%;height:36px;line-height:36px;margin:0 .5rem 2rem 0;width:64px}.post__btn--warn[_ngcontent-%COMP%]{font-size:140%}.post__subtitle[_ngcontent-%COMP%], .post__title[_ngcontent-%COMP%]{margin-bottom:2rem}.post__subtitle[_ngcontent-%COMP%]{color:#acb5c7;font-style:italic;font-weight:500}.post__date[_ngcontent-%COMP%]{font-style:italic;margin-bottom:1rem}.post__topic-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.post__topic-item[_ngcontent-%COMP%]{color:#aec6f1;margin-top:.5rem}.post__image-container[_ngcontent-%COMP%]{text-align:center;width:100%}.post__image[_ngcontent-%COMP%]{height:auto;margin-bottom:2rem;width:100%}@media only screen and (min-width:768px){.post__topic-item[_ngcontent-%COMP%]:hover{text-decoration:underline}.post__image[_ngcontent-%COMP%]{width:64%}}"]}),J),U=function(t){return{"btn--inactive":t}};function q(t,e){if(1&t){var i=p.Pb();p.Ob(0,"div",2),p.Ob(1,"h1",3),p.tc(2,"Topic Editor"),p.Nb(),p.Kb(3,"div",4),p.Ob(4,"form",5),p.Vb("ngSubmit",(function(){return p.jc(i),p.Zb().onSubmit()})),p.Ob(5,"div",6),p.Ob(6,"label",7),p.tc(7,"Name"),p.Nb(),p.Kb(8,"br"),p.Kb(9,"br"),p.Kb(10,"input",8),p.Nb(),p.Ob(11,"div",6),p.Ob(12,"label",7),p.tc(13,"Description"),p.Nb(),p.Kb(14,"br"),p.Kb(15,"br"),p.Kb(16,"input",9),p.Nb(),p.Ob(17,"button",10),p.tc(18," Submit "),p.Nb(),p.Nb(),p.Nb()}if(2&t){var o=p.Zb();p.zb(4),p.cc("formGroup",o.topicForm),p.zb(13),p.cc("ngClass",p.ec(3,U,!o.topicForm.valid))("disabled",!o.topicForm.valid)}}function Z(t,e){1&t&&p.Kb(0,"app-loading-spinner")}var H,$=((H=function(){function e(i,o,n,r,c,s,a){t(this,e),this.authService=i,this.blogApiService=o,this.blogEditorService=n,this.formBuilder=r,this.notificationService=c,this.titleService=s,this.router=a,this.isLoaded=!1}return i(e,[{key:"ngOnDestroy",value:function(){this.blogEditorService.setTopic(null)}},{key:"ngOnInit",value:function(){this.titleService.setTitle("Blog Topic Editor | Matthew Maxwell"),this.checkForAdmin(),this.setPageHideEvent(),this.initTopicForm()}},{key:"checkForAdmin",value:function(){this.authService.isLoggedIn()||this.router.navigate([""])}},{key:"setPageHideEvent",value:function(){var t=this;window.onpagehide=function(){t.blogEditorService.setTopic(null)}}},{key:"initTopicForm",value:function(){this.loadTopicData(),this.buildTopicForm()}},{key:"loadTopicData",value:function(){this.topicData=this.blogEditorService.getTopic(),this.isLoaded=!0}},{key:"buildTopicForm",value:function(){this.topicForm=this.formBuilder.group(this.topicData?{name:this.formBuilder.control(this.topicData.name,[s.p.required]),description:this.formBuilder.control(this.topicData.description,[s.p.required])}:{name:this.formBuilder.control("",[s.p.required]),description:this.formBuilder.control("",[s.p.required])})}},{key:"onSubmit",value:function(){var t=this,e=this.buildFormTopicData();void 0===e.id?this.blogApiService.createTopic(e).subscribe((function(e){t.notificationService.createNotification("Successfully created new topic."),t.router.navigate(["blog"])})):this.blogApiService.updateTopic(e).subscribe((function(e){t.notificationService.createNotification("Successfully updated existing topic."),t.router.navigate(["blog"])}))}},{key:"buildFormTopicData",value:function(){return new v(Object.assign(Object.assign({},this.topicForm.value),{id:this.topicData?this.topicData.id:void 0}))}}]),e}()).\u0275fac=function(t){return new(t||H)(p.Jb(_.c),p.Jb(P.a),p.Jb(P.c),p.Jb(s.d),p.Jb(k.c),p.Jb(y.c),p.Jb(b.a))},H.\u0275cmp=p.Db({type:H,selectors:[["app-blog-topic-editor"]],decls:3,vars:2,consts:[["class","section editor topic-editor",4,"ngIf","ngIfElse"],["loading",""],[1,"section","editor","topic-editor"],[1,"editor__header"],[1,"line-divider"],[1,"editor__form",3,"formGroup","ngSubmit"],[1,"form-field","editor__form-field"],[1,"form-field-label","editor__form-field-label"],["formControlName","name","required","","autofocus",""],["formControlName","description","required",""],["aria-label","Submit topic",1,"btn","editor__form-btn","editor__form-btn--submit",3,"ngClass","disabled"]],template:function(t,e){if(1&t&&(p.rc(0,q,19,5,"div",0),p.rc(1,Z,1,0,"ng-template",null,1,p.sc)),2&t){var i=p.hc(2);p.cc("ngIf",e.isLoaded)("ngIfElse",i)}},directives:[c.j,s.q,s.k,s.f,s.b,s.j,s.e,s.o,c.h,S.a],encapsulation:2}),H),V=n("+5rw");function X(t,e){1&t&&(p.Mb(0),p.Ob(1,"button",13),p.tc(2," + "),p.Nb(),p.Lb())}function G(t,e){if(1&t){var i=p.Pb();p.Mb(0),p.Ob(1,"button",16),p.Vb("click",(function(){p.jc(i);var t=p.Zb().$implicit;return p.Zb(2).sendTopicToEditor(t)})),p.tc(2," \u270f "),p.Nb(),p.Ob(3,"button",17),p.Vb("click",(function(){p.jc(i);var t=p.Zb().$implicit;return p.Zb(2).deleteTopic(t)})),p.tc(4," \u2715 "),p.Nb(),p.Lb()}}var W=function(t,e){return{"btn--active":t,"blog__filter-btn--half":e}};function Q(t,e){if(1&t){var i=p.Pb();p.Ob(0,"div",14),p.Ob(1,"button",15),p.Vb("click",(function(){p.jc(i);var t=e.$implicit;return p.Zb(2).filterPosts(t.id)})),p.tc(2),p.Nb(),p.rc(3,G,5,0,"ng-container",10),p.Nb()}if(2&t){var o=e.$implicit,n=p.Zb(2);p.zb(1),p.cc("ngClass",p.fc(3,W,o.id===n.activeTopicId,n.isAdmin)),p.zb(1),p.vc(" ",o.name," "),p.zb(1),p.cc("ngIf",n.isAdmin)}}function Y(t,e){if(1&t){var i=p.Pb();p.Ob(0,"div",2),p.Ob(1,"h1",3),p.tc(2,"Welcome to my blog!"),p.Nb(),p.Ob(3,"div",4),p.Ob(4,"h2",5),p.tc(5,"Topics"),p.Nb(),p.Kb(6,"div",6),p.Ob(7,"div",7),p.Ob(8,"div",8),p.Ob(9,"button",9),p.Vb("click",(function(){return p.jc(i),p.Zb().filterPosts(-1)})),p.tc(10," All "),p.Nb(),p.rc(11,X,3,0,"ng-container",10),p.Nb(),p.rc(12,Q,4,6,"div",11),p.Nb(),p.Nb(),p.Kb(13,"app-blog-post-collection",12),p.Nb()}if(2&t){var o=p.Zb();p.zb(9),p.cc("ngClass",p.fc(6,W,-1===o.activeTopicId,o.isAdmin)),p.zb(2),p.cc("ngIf",o.isAdmin),p.zb(1),p.cc("ngForOf",o.topics)("ngForTrackBy",o.trackingService.objectById),p.zb(1),p.cc("posts",o.posts)("showPreview",!0)}}function tt(t,e){1&t&&p.Kb(0,"app-loading-spinner")}var et,it,ot,nt=[{path:"",component:f,children:[{path:"",component:(et=function(){function e(i,o,n,r,c,s,a,l,u){t(this,e),this.authService=i,this.blogApiService=o,this.blogComparisonService=n,this.blogEditorService=r,this.blogTopicService=c,this.notificationService=s,this.portfolioProfileService=a,this.titleService=l,this.trackingService=u,this.isAdmin=!1,this.isLoaded=!1,this.activeTopicId=-1}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.titleService.setTitle(this.portfolioProfileService.getActiveProfileName()+" Blog | Matthew Maxwell"),this.isAdmin=this.authService.isLoggedIn(),this.isAdmin?this.blogApiService.getPosts(this.activeTopicId,!1).subscribe((function(e){t.posts=e,t.topics=t.getTopicsFromPosts().sort(t.blogComparisonService.topics),t.blogTopicService.hasActiveTopic()&&(t.filterPosts(t.blogTopicService.getActiveTopicId()),t.blogTopicService.setActiveTopic(null),t.blogTopicService.getActiveTopicId()),t.isLoaded=!0})):this.blogApiService.getPosts(this.activeTopicId).subscribe((function(e){t.posts=e,t.topics=t.getTopicsFromPosts().sort(t.blogComparisonService.topics),t.blogTopicService.hasActiveTopic()&&(t.filterPosts(t.blogTopicService.getActiveTopicId()),t.blogTopicService.setActiveTopic(null)),t.isLoaded=!0}))}},{key:"getTopicsFromPosts",value:function(){var t=[];return this.posts.forEach((function(e){e.topics.forEach((function(e){t.map((function(t){return t.id})).includes(e.id)||t.push(e)}))})),t}},{key:"filterPosts",value:function(t){var e=this;this.isAdmin?this.blogApiService.getPosts(t,!1).subscribe((function(i){e.posts=i,e.activeTopicId=t})):this.blogApiService.getPosts(t).subscribe((function(i){e.posts=i,e.activeTopicId=t}),(function(t){e.notificationService.createNotification(t.error.message)}))}},{key:"sendTopicToEditor",value:function(t){this.blogEditorService.setTopic(t)}},{key:"deleteTopic",value:function(t){var e=this;this.blogApiService.deleteTopic(t.id).subscribe((function(i){e.removeTopic(t.id),e.notificationService.createNotification("Successfully deleted blog topic!"),e.filterPosts(-1)}),(function(t){e.notificationService.createNotification(t.error.message)}))}},{key:"removeTopic",value:function(t){this.topics=this.topics.filter((function(e){return e.id!=t})),this.posts=this.posts.filter((function(e){return!e.topics.map((function(t){return t.id})).includes(t)}))}}]),e}(),et.\u0275fac=function(t){return new(t||et)(p.Jb(_.c),p.Jb(P.a),p.Jb(P.b),p.Jb(P.c),p.Jb(P.d),p.Jb(k.c),p.Jb(V.d),p.Jb(y.c),p.Jb(k.e))},et.\u0275cmp=p.Db({type:et,selectors:[["app-blog-view"]],decls:3,vars:2,consts:[["class","blog",4,"ngIf","ngIfElse"],["loading",""],[1,"blog"],[1,"blog__header"],[1,"section","topics"],[1,"blog__filter-header"],[1,"line-divider"],[1,"blog__filter-btn-container"],[1,"blog__filter-btn-row","blog__filter-btn-row--all"],["aria-label","Select all topics","type","button",1,"btn","blog__filter-btn","blog__filter-btn--all",3,"ngClass","click"],[4,"ngIf"],["class","blog__filter-btn-row",4,"ngFor","ngForOf","ngForTrackBy"],["baseRoute","posts/",3,"posts","showPreview"],["aria-label","Edit blog topic","routerLink","/blog/topics/editor",1,"btn","blog__filter-btn--add","btn--go"],[1,"blog__filter-btn-row"],["aria-label","Filter blog topic","type","button",1,"btn","blog__filter-btn",3,"ngClass","click"],["aria-label","Edit blog topic","routerLink","/blog/topics/editor",1,"btn","blog__filter-btn--edit",3,"click"],["aria-label","Delete blog topic","type","button",1,"btn","blog__filter-btn--edit","btn--warn",3,"click"]],template:function(t,e){if(1&t&&(p.rc(0,Y,14,9,"div",0),p.rc(1,tt,1,0,"ng-template",null,1,p.sc)),2&t){var i=p.hc(2);p.cc("ngIf",e.isLoaded)("ngIfElse",i)}},directives:[c.j,c.h,c.i,d.a,b.b,S.a],styles:['.blog[_ngcontent-%COMP%]{background-color:#333944;display:grid;grid-template-areas:"blog-header" "topics" "posts";height:auto}.blog[_ngcontent-%COMP%]   .blog__header[_ngcontent-%COMP%]{grid-area:blog-header}.blog[_ngcontent-%COMP%]   .topics[_ngcontent-%COMP%]{grid-area:topics;min-height:auto;margin:0}.blog[_ngcontent-%COMP%]   .posts[_ngcontent-%COMP%]{grid-area:posts}.blog__header[_ngcontent-%COMP%]{margin:0 auto 2rem;padding:2rem;text-align:center}.blog__filter-header[_ngcontent-%COMP%]{margin-bottom:1rem}.blog__filter-btn-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column}.blog__filter-btn[_ngcontent-%COMP%]{font-size:90%;height:48px;line-height:48px;width:100%}.blog__filter-btn--add[_ngcontent-%COMP%], .blog__filter-btn--edit[_ngcontent-%COMP%]{height:36px;line-height:36px;margin-left:1rem}.blog__filter-btn--add[_ngcontent-%COMP%]{font-size:170%;width:calc(56px * 2 + 1rem)}.blog__filter-btn--edit[_ngcontent-%COMP%]{font-size:118%;width:56px}.blog__filter-btn--half[_ngcontent-%COMP%]{min-width:184px}.blog__filter-btn-row[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;justify-content:space-between;width:100%}.blog__filter-btn-row--all[_ngcontent-%COMP%]{margin-bottom:2rem}@media only screen and (min-width:768px){.blog__filter-btn[_ngcontent-%COMP%]{font-size:90%;height:56px;line-height:56px;width:232px}.blog__filter-btn--add[_ngcontent-%COMP%], .blog__filter-btn--edit[_ngcontent-%COMP%]{width:52px}.blog__filter-btn--add[_ngcontent-%COMP%]{width:calc(52px + 52px + 1rem)}.blog[_ngcontent-%COMP%]{grid-template-areas:"blog-header blog-header blog-header blog-header" "posts posts posts topics"}.blog[_ngcontent-%COMP%]   .topics[_ngcontent-%COMP%]{margin:0 auto}}']}),et)},{path:"posts/editor",component:F},{path:"posts/:id/:uri",component:R},{path:"topics/editor",component:$}]}],rt=((ot=function e(){t(this,e)}).\u0275mod=p.Hb({type:ot}),ot.\u0275inj=p.Gb({factory:function(t){return new(t||ot)},imports:[[b.d.forChild(nt)],b.d]}),ot),ct=((it=function e(){t(this,e)}).\u0275mod=p.Hb({type:it}),it.\u0275inj=p.Gb({factory:function(t){return new(t||it)},providers:[P.a,P.b],imports:[[rt,c.b,l.a,a.b.forRoot(),u.a,s.n]]}),it)}}])}();