<div class='section dashboard' *ngIf='isLoaded; else loading'>
    <h1 class='dashboard__header'>Dashboard</h1>

    <div class="line-divider"></div>

    <div class='dashboard__btn-container' *ngIf='!authService.isLoggedIn()'>
        <a class='btn dashboard__btn' [routerLink]="['/admin/login']">Login</a>
        <a class='btn dashboard__btn' (click)='notificationService.createNotification("This functionality is not available.")'>Register</a>
    </div>

    <div class='dashboard__btn-container' *ngIf='authService.isLoggedIn()'>
        <h2>Blog</h2>
        <br>
        <a class='btn dashboard__btn' [routerLink]="['/editor']" [queryParams]='{type: "post"}'>
            Create Post
        </a>
        <a class='btn dashboard__btn' [routerLink]="['/editor']" [queryParams]='{type: "topic"}'>
            Create Topic
        </a>
        <br>
    </div>

    <div class='dashboard__btn-container' *ngIf='authService.isLoggedIn()'>
        <h2>Portfolio</h2>
        <br>
        <a class='btn dashboard__btn' [routerLink]="['/editor']" [queryParams]='{type: "profile"}'>
            Create Profile
        </a>
        <a class='btn dashboard__btn' [routerLink]="['/editor']" [queryParams]='{type: "project"}'>
            Create Project
        </a>
        <br>
    </div>

    <div class='dashboard__btn-container' *ngIf='authService.isLoggedIn()'>
        <h2>Profiles</h2>
        <br>
        <div class='dashboard__profile-btn-row' *ngFor='let profile of profiles'>
            <button
                    aria-label='Activate profile'
                    [ngClass]="{'btn--active': profile.status.status == 'ACTIVE' }"
                    class='btn dashboard__profile-btn'
                    (click)='changeProfile(profile)'
                    type='button'
            >
                {{ profile.name }}
            </button>

            <a
                    class='btn dashboard__profile-btn--edit'
                    (click)='sendProfileToEditor(profile)'
                    routerLink='/editor'
                    [queryParams]='{type: "profile", id: profile.id}'
            >
                &#x270F;
            </a>
            <a
                    class='btn dashboard__profile-btn--edit btn--warn'
                    (click)='deleteProfile(profile)'
            >
                &#x2715;
            </a>
        </div>

        <br><br>
    </div>

    <div class='dashboard__btn-container' *ngIf='authService.isLoggedIn()'>
        <div class='section-divider--half'></div>
        <a class='btn dashboard__btn btn--warn' (click)="onLogoutClick()">Logout</a>
    </div>
</div>

<ng-template #loading>
    <app-loading-spinner></app-loading-spinner>
</ng-template>